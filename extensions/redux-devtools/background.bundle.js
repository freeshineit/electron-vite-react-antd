"use strict";(()=>{var rh=Object.create;var mt=Object.defineProperty;var nh=Object.getOwnPropertyDescriptor;var ih=Object.getOwnPropertyNames;var oh=Object.getPrototypeOf,sh=Object.prototype.hasOwnProperty;var M=(e,t)=>()=>(e&&(t=e(e=0)),t);var u=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ah=(e,t)=>{for(var r in t)mt(e,r,{get:t[r],enumerable:!0})},Gn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ih(t))!sh.call(e,i)&&i!==r&&mt(e,i,{get:()=>t[i],enumerable:!(n=nh(t,i))||n.enumerable});return e};var Y=(e,t,r)=>(r=e!=null?rh(oh(e)):{},Gn(t||!e||!e.__esModule?mt(r,"default",{value:e,enumerable:!0}):r,e)),uh=e=>Gn(mt({},"__esModule",{value:!0}),e);var sr=u((P_,V)=>{function or(e){"@babel/helpers - typeof";return V.exports=or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V.exports.__esModule=!0,V.exports.default=V.exports,or(e)}V.exports=or,V.exports.__esModule=!0,V.exports.default=V.exports});var Kn=u((B_,Le)=>{var $n=sr().default;function ch(e,t){if($n(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($n(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}Le.exports=ch,Le.exports.__esModule=!0,Le.exports.default=Le.exports});var Wn=u((L_,Re)=>{var lh=sr().default,fh=Kn();function ph(e){var t=fh(e,"string");return lh(t)=="symbol"?t:t+""}Re.exports=ph,Re.exports.__esModule=!0,Re.exports.default=Re.exports});var Vn=u((R_,qe)=>{var hh=Wn();function dh(e,t,r){return t=hh(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}qe.exports=dh,qe.exports.__esModule=!0,qe.exports.default=qe.exports});var Jn=u((q_,Me)=>{var mh=Vn();function zn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zn(Object(r),!0).forEach(function(n){mh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}Me.exports=yh,Me.exports.__esModule=!0,Me.exports.default=Me.exports});var cr=u(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});var gh=Jn();function Eh(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var Yn=Eh(gh);function k(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Xn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ar=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ue={INIT:"@@redux/INIT"+ar(),REPLACE:"@@redux/REPLACE"+ar(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ar()}};function Sh(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ur(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(k(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(k(1));return r(ur)(e,t)}if(typeof e!="function")throw new Error(k(2));var i=e,o=t,s=[],a=s,c=!1;function f(){a===s&&(a=s.slice())}function d(){if(c)throw new Error(k(3));return o}function h(E){if(typeof E!="function")throw new Error(k(4));if(c)throw new Error(k(5));var A=!0;return f(),a.push(E),function(){if(A){if(c)throw new Error(k(6));A=!1,f();var x=a.indexOf(E);a.splice(x,1),s=null}}}function y(E){if(!Sh(E))throw new Error(k(7));if(typeof E.type>"u")throw new Error(k(8));if(c)throw new Error(k(9));try{c=!0,o=i(o,E)}finally{c=!1}for(var A=s=a,S=0;S<A.length;S++){var x=A[S];x()}return E}function g(E){if(typeof E!="function")throw new Error(k(10));i=E,y({type:Ue.REPLACE})}function m(){var E,A=h;return E={subscribe:function(x){if(typeof x!="object"||x===null)throw new Error(k(11));function O(){x.next&&x.next(d())}O();var N=A(O);return{unsubscribe:N}}},E[Xn]=function(){return this},E}return y({type:Ue.INIT}),n={dispatch:y,subscribe:h,getState:d,replaceReducer:g},n[Xn]=m,n}var Ah=ur;function bh(e){Object.keys(e).forEach(function(t){var r=e[t],n=r(void 0,{type:Ue.INIT});if(typeof n>"u")throw new Error(k(12));if(typeof r(void 0,{type:Ue.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(k(13))})}function xh(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n];typeof e[i]=="function"&&(r[i]=e[i])}var o=Object.keys(r),s,a;try{bh(r)}catch(c){a=c}return function(f,d){if(f===void 0&&(f={}),a)throw a;if(0)var h;for(var y=!1,g={},m=0;m<o.length;m++){var E=o[m],A=r[E],S=f[E],x=A(S,d);if(typeof x>"u"){var O=d&&d.type;throw new Error(k(14))}g[E]=x,y=y||x!==S}return y=y||o.length!==Object.keys(f).length,y?g:f}}function Qn(e,t){return function(){return t(e.apply(this,arguments))}}function Th(e,t){if(typeof e=="function")return Qn(e,t);if(typeof e!="object"||e===null)throw new Error(k(16));var r={};for(var n in e){var i=e[n];typeof i=="function"&&(r[n]=Qn(i,t))}return r}function Zn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function vh(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),o=function(){throw new Error(k(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map(function(c){return c(s)});return o=Zn.apply(void 0,a)(i.dispatch),Yn.default(Yn.default({},i),{},{dispatch:o})}}}z.__DO_NOT_USE__ActionTypes=Ue;z.applyMiddleware=vh;z.bindActionCreators=Th;z.combineReducers=xh;z.compose=Zn;z.createStore=ur;z.legacy_createStore=Ah});var fr=u((U_,ei)=>{var lr=class{async next(t){let r=this.createConsumer(t),n=await r.next();return r.return(),n}async once(t){let r=await this.next(t);if(r.done)if(t==null)await new Promise(()=>{});else{let n=new Error("Stream consumer operation timed out early because stream ended");throw n.name="TimeoutError",n}return r.value}createConsumer(){throw new TypeError("Method must be overriden by subclass")}[Symbol.asyncIterator](){return this.createConsumer()}};ei.exports=lr});var ri=u((F_,ti)=>{var pr=class{constructor(t,r,n,i){this.id=r,this._backpressure=0,this.currentNode=n,this.timeout=i,this.isAlive=!0,this.stream=t,this.stream.setConsumer(this.id,this)}getStats(){let t={id:this.id,backpressure:this._backpressure};return this.timeout!=null&&(t.timeout=this.timeout),t}_resetBackpressure(){this._backpressure=0}applyBackpressure(t){this._backpressure++}releaseBackpressure(t){this._backpressure--}getBackpressure(){return this._backpressure}clearActiveTimeout(){clearTimeout(this._timeoutId),delete this._timeoutId}write(t){this._timeoutId!==void 0&&this.clearActiveTimeout(t),this.applyBackpressure(t),this._resolve&&(this._resolve(),delete this._resolve)}kill(t){this._killPacket={value:t,done:!0},this._timeoutId!==void 0&&this.clearActiveTimeout(this._killPacket),this._destroy(),this._resolve&&(this._resolve(),delete this._resolve)}_destroy(){this.isAlive=!1,this._resetBackpressure(),this.stream.removeConsumer(this.id)}async _waitForNextItem(t){return new Promise((r,n)=>{this._resolve=r;let i;if(t!==void 0){let o=new Error("Stream consumer iteration timed out");(async()=>{let s=wh(t);i=s.timeoutId,await s.promise,o.name="TimeoutError",delete this._resolve,n(o)})()}this._timeoutId=i})}async next(){for(this.stream.setConsumer(this.id,this);;){if(!this.currentNode.next)try{await this._waitForNextItem(this.timeout)}catch(t){throw this._destroy(),t}if(this._killPacket){this._destroy();let t=this._killPacket;return delete this._killPacket,t}if(this.currentNode=this.currentNode.next,this.releaseBackpressure(this.currentNode.data),!(this.currentNode.consumerId&&this.currentNode.consumerId!==this.id))return this.currentNode.data.done&&this._destroy(),this.currentNode.data}}return(){return delete this.currentNode,this._destroy(),{}}[Symbol.asyncIterator](){return this}};function wh(e){let t,r=new Promise(n=>{t=setTimeout(n,e)});return{timeoutId:t,promise:r}}ti.exports=pr});var ii=u((j_,ni)=>{var _h=fr(),Ch=ri(),hr=class extends _h{constructor(t){super(),t=t||{},this._nextConsumerId=1,this.generateConsumerId=t.generateConsumerId,this.generateConsumerId||(this.generateConsumerId=()=>this._nextConsumerId++),this.removeConsumerCallback=t.removeConsumerCallback,this._consumers=new Map,this.tailNode={next:null,data:{value:void 0,done:!1}}}_write(t,r,n){let i={data:{value:t,done:r},next:null};n&&(i.consumerId=n),this.tailNode.next=i,this.tailNode=i;for(let o of this._consumers.values())o.write(i.data)}write(t){this._write(t,!1)}close(t){this._write(t,!0)}writeToConsumer(t,r){this._write(r,!1,t)}closeConsumer(t,r){this._write(r,!0,t)}kill(t){for(let r of this._consumers.keys())this.killConsumer(r,t)}killConsumer(t,r){let n=this._consumers.get(t);n&&n.kill(r)}getBackpressure(){let t=0;for(let r of this._consumers.values()){let n=r.getBackpressure();n>t&&(t=n)}return t}getConsumerBackpressure(t){let r=this._consumers.get(t);return r?r.getBackpressure():0}hasConsumer(t){return this._consumers.has(t)}setConsumer(t,r){this._consumers.set(t,r),r.currentNode||(r.currentNode=this.tailNode)}removeConsumer(t){let r=this._consumers.delete(t);return this.removeConsumerCallback&&this.removeConsumerCallback(t),r}getConsumerStats(t){let r=this._consumers.get(t);if(r)return r.getStats()}getConsumerStatsList(){let t=[];for(let r of this._consumers.values())t.push(r.getStats());return t}createConsumer(t){return new Ch(this,this.generateConsumerId(),this.tailNode,t)}getConsumerList(){return[...this._consumers.values()]}getConsumerCount(){return this._consumers.size}};ni.exports=hr});var si=u((G_,oi)=>{var Ih=fr(),dr=class extends Ih{constructor(t,r){super(),this._streamDemux=t,this.name=r}createConsumer(t){return this._streamDemux.createConsumer(this.name,t)}};oi.exports=dr});var yr=u((H_,ai)=>{var Oh=ii(),kh=si(),mr=class{constructor(){this.streams={},this._nextConsumerId=1,this.generateConsumerId=()=>this._nextConsumerId++}write(t,r){this.streams[t]&&this.streams[t].write(r)}close(t,r){this.streams[t]&&this.streams[t].close(r)}closeAll(t){for(let r of Object.values(this.streams))r.close(t)}writeToConsumer(t,r){for(let n of Object.values(this.streams))if(n.hasConsumer(t))return n.writeToConsumer(t,r)}closeConsumer(t,r){for(let n of Object.values(this.streams))if(n.hasConsumer(t))return n.closeConsumer(t,r)}getConsumerStats(t){for(let[r,n]of Object.entries(this.streams))if(n.hasConsumer(t))return{...n.getConsumerStats(t),stream:r}}getConsumerStatsList(t){return this.streams[t]?this.streams[t].getConsumerStatsList().map(r=>({...r,stream:t})):[]}getConsumerStatsListAll(){let t=[];for(let r of Object.keys(this.streams)){let n=this.getConsumerStatsList(r);for(let i of n)t.push(i)}return t}kill(t,r){this.streams[t]&&this.streams[t].kill(r)}killAll(t){for(let r of Object.values(this.streams))r.kill(t)}killConsumer(t,r){for(let n of Object.values(this.streams))if(n.hasConsumer(t))return n.killConsumer(t,r)}getBackpressure(t){return this.streams[t]?this.streams[t].getBackpressure():0}getBackpressureAll(){return Object.values(this.streams).reduce((t,r)=>Math.max(t,r.getBackpressure()),0)}getConsumerBackpressure(t){for(let r of Object.values(this.streams))if(r.hasConsumer(t))return r.getConsumerBackpressure(t);return 0}hasConsumer(t,r){return this.streams[t]?this.streams[t].hasConsumer(r):!1}hasConsumerAll(t){return Object.values(this.streams).some(r=>r.hasConsumer(t))}getConsumerCount(t){return this.streams[t]?this.streams[t].getConsumerCount():0}getConsumerCountAll(){return Object.values(this.streams).reduce((t,r)=>t+r.getConsumerCount(),0)}createConsumer(t,r){return this.streams[t]||(this.streams[t]=new Oh({generateConsumerId:this.generateConsumerId,removeConsumerCallback:()=>{this.getConsumerCount(t)||delete this.streams[t]}})),this.streams[t].createConsumer(r)}stream(t){return new kh(this,t)}unstream(t){delete this.streams[t]}};ai.exports=mr});var ci=u(($_,ui)=>{var Dh=yr();function w(e){this._listenerDemux=new Dh}w.prototype.emit=function(e,t){this._listenerDemux.write(e,t)};w.prototype.listener=function(e){return this._listenerDemux.stream(e)};w.prototype.closeListener=function(e){this._listenerDemux.close(e)};w.prototype.closeAllListeners=function(){this._listenerDemux.closeAll()};w.prototype.removeListener=function(e){this._listenerDemux.unstream(e)};w.prototype.getListenerConsumerStats=function(e){return this._listenerDemux.getConsumerStats(e)};w.prototype.getListenerConsumerStatsList=function(e){return this._listenerDemux.getConsumerStatsList(e)};w.prototype.getAllListenersConsumerStatsList=function(){return this._listenerDemux.getConsumerStatsListAll()};w.prototype.getListenerConsumerCount=function(e){return this._listenerDemux.getConsumerCount(e)};w.prototype.getAllListenersConsumerCount=function(){return this._listenerDemux.getConsumerCountAll()};w.prototype.killListener=function(e){this._listenerDemux.kill(e)};w.prototype.killAllListeners=function(){this._listenerDemux.killAll()};w.prototype.killListenerConsumer=function(e){this._listenerDemux.killConsumer(e)};w.prototype.getListenerBackpressure=function(e){return this._listenerDemux.getBackpressure(e)};w.prototype.getAllListenersBackpressure=function(){return this._listenerDemux.getBackpressureAll()};w.prototype.getListenerConsumerBackpressure=function(e){return this._listenerDemux.getConsumerBackpressure(e)};w.prototype.hasListenerConsumer=function(e,t){return this._listenerDemux.hasConsumer(e,t)};w.prototype.hasAnyListenerConsumer=function(e){return this._listenerDemux.hasConsumerAll(e)};ui.exports=w});var fi=u((K_,li)=>{var gr=class{async next(t){let r=this.createConsumer(t),n=await r.next();return r.return(),n}async once(t){let r=await this.next(t);return r.done&&await new Promise(()=>{}),r.value}createConsumer(){throw new TypeError("Method must be overriden by subclass")}[Symbol.asyncIterator](){return this.createConsumer()}};li.exports=gr});var hi=u((W_,pi)=>{var Nh=fi(),me=class e extends Nh{constructor(t,r,n,i){super(),this.PENDING=e.PENDING,this.SUBSCRIBED=e.SUBSCRIBED,this.UNSUBSCRIBED=e.UNSUBSCRIBED,this.name=t,this.client=r,this._eventDemux=n,this._dataStream=i.stream(this.name)}createConsumer(t){return this._dataStream.createConsumer(t)}listener(t){return this._eventDemux.stream(`${this.name}/${t}`)}close(){this.client.closeChannel(this.name)}kill(){this.client.killChannel(this.name)}killOutputConsumer(t){this.hasOutputConsumer(t)&&this.client.killChannelOutputConsumer(t)}killListenerConsumer(t){this.hasAnyListenerConsumer(t)&&this.client.killChannelListenerConsumer(t)}getOutputConsumerStats(t){if(this.hasOutputConsumer(t))return this.client.getChannelOutputConsumerStats(t)}getListenerConsumerStats(t){if(this.hasAnyListenerConsumer(t))return this.client.getChannelListenerConsumerStats(t)}getBackpressure(){return this.client.getChannelBackpressure(this.name)}getListenerConsumerBackpressure(t){return this.hasAnyListenerConsumer(t)?this.client.getChannelListenerConsumerBackpressure(t):0}getOutputConsumerBackpressure(t){return this.hasOutputConsumer(t)?this.client.getChannelOutputConsumerBackpressure(t):0}closeOutput(){this.client.channelCloseOutput(this.name)}closeListener(t){this.client.channelCloseListener(this.name,t)}closeAllListeners(){this.client.channelCloseAllListeners(this.name)}killOutput(){this.client.channelKillOutput(this.name)}killListener(t){this.client.channelKillListener(this.name,t)}killAllListeners(){this.client.channelKillAllListeners(this.name)}getOutputConsumerStatsList(){return this.client.channelGetOutputConsumerStatsList(this.name)}getListenerConsumerStatsList(t){return this.client.channelGetListenerConsumerStatsList(this.name,t)}getAllListenersConsumerStatsList(){return this.client.channelGetAllListenersConsumerStatsList(this.name)}getOutputBackpressure(){return this.client.channelGetOutputBackpressure(this.name)}getListenerBackpressure(t){return this.client.channelGetListenerBackpressure(this.name,t)}getAllListenersBackpressure(){return this.client.channelGetAllListenersBackpressure(this.name)}hasOutputConsumer(t){return this.client.channelHasOutputConsumer(this.name,t)}hasListenerConsumer(t,r){return this.client.channelHasListenerConsumer(this.name,t,r)}hasAnyListenerConsumer(t){return this.client.channelHasAnyListenerConsumer(this.name,t)}get state(){return this.client.getChannelState(this.name)}set state(t){throw new Error("Cannot directly set channel state")}get options(){return this.client.getChannelOptions(this.name)}set options(t){throw new Error("Cannot directly set channel options")}subscribe(t){this.client.subscribe(this.name,t)}unsubscribe(){this.client.unsubscribe(this.name)}isSubscribed(t){return this.client.isSubscribed(this.name,t)}transmitPublish(t){return this.client.transmitPublish(this.name,t)}invokePublish(t){return this.client.invokePublish(this.name,t)}};me.PENDING="pending";me.SUBSCRIBED="subscribed";me.UNSUBSCRIBED="unsubscribed";pi.exports=me});var mi=u((V_,di)=>{function Fe(){this._internalStorage={},this.isLocalStorageEnabled=this._checkLocalStorageEnabled()}Fe.prototype._checkLocalStorageEnabled=function(){let e;try{localStorage.setItem("__scLocalStorageTest",1),localStorage.removeItem("__scLocalStorageTest")}catch(t){e=t}return!e};Fe.prototype.saveToken=function(e,t,r){return this.isLocalStorageEnabled?localStorage.setItem(e,t):this._internalStorage[e]=t,Promise.resolve(t)};Fe.prototype.removeToken=function(e){let t=this.loadToken(e);return this.isLocalStorageEnabled?localStorage.removeItem(e):delete this._internalStorage[e],t};Fe.prototype.loadToken=function(e){let t;return this.isLocalStorageEnabled?t=localStorage.getItem(e):t=this._internalStorage[e]||null,Promise.resolve(t)};di.exports=Fe});var yi=u((z_,Er)=>{var yt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ph=/^[ \n\r\t]*[{\[]/,Bh=function(e){let t=new Uint8Array(e),r=t.length,n="";for(let i=0;i<r;i+=3)n+=yt[t[i]>>2],n+=yt[(t[i]&3)<<4|t[i+1]>>4],n+=yt[(t[i+1]&15)<<2|t[i+2]>>6],n+=yt[t[i+2]&63];return r%3===2?n=n.substring(0,n.length-1)+"=":r%3===1&&(n=n.substring(0,n.length-2)+"=="),n},Lh=function(e,t){if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return{base64:!0,data:Bh(t)};if(typeof Buffer<"u"){if(t instanceof Buffer)return{base64:!0,data:t.toString("base64")};if(t&&t.type==="Buffer"&&Array.isArray(t.data)){let r;return Buffer.from?r=Buffer.from(t.data):r=new Buffer(t.data),{base64:!0,data:r.toString("base64")}}}return t};Er.exports.decode=function(e){if(e==null)return null;if(e==="#1"||e==="#2")return e;let t=e.toString();if(!Ph.test(t))return t;try{return JSON.parse(t)}catch{}return t};Er.exports.encode=function(e){return e==="#1"||e==="#2"?e:JSON.stringify(e,Lh)}});var Ei=u((J_,gi)=>{gi.exports=function(t){var r=[],n=[];return function i(o,s){var a,c,f;if(typeof o=="object"&&o!==null&&!(o instanceof Boolean)&&!(o instanceof Date)&&!(o instanceof Number)&&!(o instanceof RegExp)&&!(o instanceof String)){for(a=0;a<r.length;a+=1)if(r[a]===o)return{$ref:n[a]};if(r.push(o),n.push(s),Object.prototype.toString.apply(o)==="[object Array]")for(f=[],a=0;a<o.length;a+=1)f[a]=i(o[a],s+"["+a+"]");else{f={};for(c in o)Object.prototype.hasOwnProperty.call(o,c)&&(f[c]=i(o[c],s+"["+JSON.stringify(c)+"]"))}return f}return o}(t,"$")}});var je=u((Y_,oe)=>{var Si=Ei(),_=function(){return!this}();function Ai(e,t){this.name="AuthTokenExpiredError",this.message=e,this.expiry=t,Error.captureStackTrace&&!_?Error.captureStackTrace(this,arguments.callee):this.stack=new Error().stack}Ai.prototype=Object.create(Error.prototype);function bi(e){this.name="AuthTokenInvalidError",this.message=e,Error.captureStackTrace&&!_?Error.captureStackTrace(this,arguments.callee):this.stack=new Error().stack}bi.prototype=Object.create(Error.prototype);function xi(e,t){this.name="AuthTokenNotBeforeError",this.message=e,this.date=t,Error.captureStackTrace&&!_?Error.captureStackTrace(this,arguments.callee):this.stack=new Error().stack}xi.prototype=Object.create(Error.prototype);function Ti(e){this.name="AuthTokenError",this.message=e,Error.captureStackTrace&&!_?Error.captureStackTrace(this,arguments.callee):this.stack=new Error().stack}Ti.prototype=Object.create(Error.prototype);function vi(e){this.name="AuthError",this.message=e,Error.captureStackTrace&&!_?Error.captureStackTrace(this,arguments.callee):this.stack=new Error().stack}vi.prototype=Object.create(Error.prototype);function wi(e,t){this.name="SilentMiddlewareBlockedError",this.message=e,this.type=t,Error.captureStackTrace&&!_?Error.captureStackTrace(this,arguments.callee):this.stack=new Error().stack}wi.prototype=Object.create(Error.prototype);function _i(e){this.name="InvalidActionError",this.message=e,Error.captureStackTrace&&!_?Error.captureStackTrace(this,arguments.callee):this.stack=new Error().stack}_i.prototype=Object.create(Error.prototype);function Ci(e){this.name="InvalidArgumentsError",this.message=e,Error.captureStackTrace&&!_?Error.captureStackTrace(this,arguments.callee):this.stack=new Error().stack}Ci.prototype=Object.create(Error.prototype);function Ii(e){this.name="InvalidOptionsError",this.message=e,Error.captureStackTrace&&!_?Error.captureStackTrace(this,arguments.callee):this.stack=new Error().stack}Ii.prototype=Object.create(Error.prototype);function Oi(e){this.name="InvalidMessageError",this.message=e,Error.captureStackTrace&&!_?Error.captureStackTrace(this,arguments.callee):this.stack=new Error().stack}Oi.prototype=Object.create(Error.prototype);function ki(e,t){this.name="SocketProtocolError",this.message=e,this.code=t,Error.captureStackTrace&&!_?Error.captureStackTrace(this,arguments.callee):this.stack=new Error().stack}ki.prototype=Object.create(Error.prototype);function Di(e){this.name="ServerProtocolError",this.message=e,Error.captureStackTrace&&!_?Error.captureStackTrace(this,arguments.callee):this.stack=new Error().stack}Di.prototype=Object.create(Error.prototype);function Ni(e){this.name="HTTPServerError",this.message=e,Error.captureStackTrace&&!_?Error.captureStackTrace(this,arguments.callee):this.stack=new Error().stack}Ni.prototype=Object.create(Error.prototype);function Pi(e){this.name="ResourceLimitError",this.message=e,Error.captureStackTrace&&!_?Error.captureStackTrace(this,arguments.callee):this.stack=new Error().stack}Pi.prototype=Object.create(Error.prototype);function Bi(e){this.name="TimeoutError",this.message=e,Error.captureStackTrace&&!_?Error.captureStackTrace(this,arguments.callee):this.stack=new Error().stack}Bi.prototype=Object.create(Error.prototype);function Li(e,t){this.name="BadConnectionError",this.message=e,this.type=t,Error.captureStackTrace&&!_?Error.captureStackTrace(this,arguments.callee):this.stack=new Error().stack}Li.prototype=Object.create(Error.prototype);function Ri(e){this.name="BrokerError",this.message=e,Error.captureStackTrace&&!_?Error.captureStackTrace(this,arguments.callee):this.stack=new Error().stack}Ri.prototype=Object.create(Error.prototype);function qi(e,t){this.name="ProcessExitError",this.message=e,this.code=t,Error.captureStackTrace&&!_?Error.captureStackTrace(this,arguments.callee):this.stack=new Error().stack}qi.prototype=Object.create(Error.prototype);function Mi(e){this.name="UnknownError",this.message=e,Error.captureStackTrace&&!_?Error.captureStackTrace(this,arguments.callee):this.stack=new Error().stack}Mi.prototype=Object.create(Error.prototype);oe.exports={AuthTokenExpiredError:Ai,AuthTokenInvalidError:bi,AuthTokenNotBeforeError:xi,AuthTokenError:Ti,AuthError:vi,SilentMiddlewareBlockedError:wi,InvalidActionError:_i,InvalidArgumentsError:Ci,InvalidOptionsError:Ii,InvalidMessageError:Oi,SocketProtocolError:ki,ServerProtocolError:Di,HTTPServerError:Ni,ResourceLimitError:Pi,TimeoutError:Bi,BadConnectionError:Li,BrokerError:Ri,ProcessExitError:qi,UnknownError:Mi};oe.exports.socketProtocolErrorStatuses={1001:"Socket was disconnected",1002:"A WebSocket protocol error was encountered",1003:"Server terminated socket because it received invalid data",1005:"Socket closed without status code",1006:"Socket hung up",1007:"Message format was incorrect",1008:"Encountered a policy violation",1009:"Message was too big to process",1010:"Client ended the connection because the server did not comply with extension requirements",1011:"Server encountered an unexpected fatal condition",4e3:"Server ping timed out",4001:"Client pong timed out",4002:"Server failed to sign auth token",4003:"Failed to complete handshake",4004:"Client failed to save auth token",4005:"Did not receive #handshake from client before timeout",4006:"Failed to bind socket to message broker",4007:"Client connection establishment timed out",4008:"Server rejected handshake from client",4009:"Server received a message before the client handshake"};oe.exports.socketProtocolIgnoreStatuses={1e3:"Socket closed normally",1001:"Socket hung up"};oe.exports.dehydrateError=function(t){let r;if(t&&typeof t=="object"){r={message:t.message};for(let n of Object.keys(t))r[n]=t[n]}else typeof t=="function"?r="[function "+(typeof t.name=="string"?t.name:"anonymous")+"]":r=t;return Si(r)};oe.exports.hydrateError=function(t){let r=null;if(t!=null)if(typeof t=="object"){r=new Error(typeof t.message=="string"?t.message:"Invalid error message format"),typeof t.name=="string"&&(r.name=t.name);for(let n of Object.keys(t))r[n]===void 0&&(r[n]=t[n])}else r=t;return r};oe.exports.decycle=Si});var ji=u((X_,Fi)=>{var Ui=je(),Rh=Ui.InvalidActionError;function qh(e,t,r,n){this.socket=e,this.id=t,this.procedure=r,this.data=n,this.sent=!1,this._respond=(i,o)=>{if(this.sent)throw new Rh(`Response to request ${this.id} has already been sent`);this.sent=!0,this.socket.sendObject(i,o)},this.end=(i,o)=>{let s={rid:this.id};i!==void 0&&(s.data=i),this._respond(s,o)},this.error=(i,o)=>{let s={rid:this.id,error:Ui.dehydrateError(i)};this._respond(s,o)}}Fi.exports=qh});var $i=u((Q_,Hi)=>{var gt;typeof WorkerGlobalScope<"u"?gt=self:gt=typeof window<"u"&&window||function(){return this}();var Ge=gt.WebSocket||gt.MozWebSocket;function Gi(e,t,r){let n;return t?n=new Ge(e,t):n=new Ge(e),n}Ge&&(Gi.prototype=Ge.prototype);Hi.exports=Ge?Gi:null});var Wi=u((Z_,Ki)=>{var Mh=ji(),Sr;if(typeof WebSocket<"u")Sr=function(e,t){return new WebSocket(e)};else{let e=$i();Sr=function(t,r){return new e(t,[],r)}}var se=je(),Uh=se.TimeoutError,Fh=se.BadConnectionError;function b(e,t,r,n,i){this.state=this.CLOSED,this.auth=e,this.codec=t,this.options=r,this.wsOptions=n,this.protocolVersion=r.protocolVersion,this.connectTimeout=r.connectTimeout,this.pingTimeout=r.pingTimeout,this.pingTimeoutDisabled=!!r.pingTimeoutDisabled,this.callIdGenerator=r.callIdGenerator,this.authTokenName=r.authTokenName,this.isBufferingBatch=!1,this._pingTimeoutTicker=null,this._callbackMap={},this._batchBuffer=[],i||(i={}),this._onOpenHandler=i.onOpen||function(){},this._onOpenAbortHandler=i.onOpenAbort||function(){},this._onCloseHandler=i.onClose||function(){},this._onEventHandler=i.onEvent||function(){},this._onErrorHandler=i.onError||function(){},this._onInboundInvokeHandler=i.onInboundInvoke||function(){},this._onInboundTransmitHandler=i.onInboundTransmit||function(){},this.state=this.CONNECTING;let o=this.uri(),s=Sr(o,n);s.binaryType=this.options.binaryType,this.socket=s,s.onopen=()=>{this._onOpen()},s.onclose=async a=>{let c;a.code==null?c=1005:c=a.code,this._destroy(c,a.reason)},s.onmessage=(a,c)=>{this._onMessage(a.data)},s.onerror=a=>{this.state===this.CONNECTING&&this._destroy(1006)},this._connectTimeoutRef=setTimeout(()=>{this._destroy(4007),this.socket.close(4007)},this.connectTimeout),this.protocolVersion===1?this._handlePing=a=>a==="#1"?(this._resetPingTimeout(),this.socket.readyState===this.socket.OPEN&&this.send("#2"),!0):!1:this._handlePing=a=>a===""?(this._resetPingTimeout(),this.socket.readyState===this.socket.OPEN&&this.send(""),!0):!1}b.CONNECTING=b.prototype.CONNECTING="connecting";b.OPEN=b.prototype.OPEN="open";b.CLOSED=b.prototype.CLOSED="closed";b.computeURI=function(e){let t=e.query||{},r;e.protocolScheme==null?r=e.secure?"wss":"ws":r=e.protocolScheme,e.timestampRequests&&(t[e.timestampParam]=new Date().getTime());let n=new URLSearchParams;for(let[s,a]of Object.entries(t))if(Array.isArray(a))for(let c of a)n.append(s,c);else n.set(s,a);t=n.toString(),t.length&&(t="?"+t);let i,o;if(e.socketPath==null){if(e.host)i=e.host;else{let s="";e.port&&(r==="wss"&&e.port!==443||r==="ws"&&e.port!==80)&&(s=":"+e.port),i=e.hostname+s}o=e.path}else i=e.socketPath,o=`:${e.path}`;return r+"://"+i+o+t};b.prototype.uri=function(){return b.computeURI(this.options)};b.prototype._onOpen=async function(){clearTimeout(this._connectTimeoutRef),this._resetPingTimeout();let e;try{e=await this._handshake()}catch(t){t.statusCode==null&&(t.statusCode=4003),this._onError(t),this._destroy(t.statusCode,t.toString()),this.socket.close(t.statusCode);return}this.state=this.OPEN,e&&(this.pingTimeout=e.pingTimeout),this._resetPingTimeout(),this._onOpenHandler(e)};b.prototype._handshake=async function(){let e=await this.auth.loadToken(this.authTokenName),t={force:!0},r=await this.invoke("#handshake",{authToken:e},t);return r&&(r.authToken=e,r.authError&&(r.authError=se.hydrateError(r.authError))),r};b.prototype._abortAllPendingEventsDueToBadConnection=function(e){Object.keys(this._callbackMap||{}).forEach(t=>{let r=this._callbackMap[t];delete this._callbackMap[t],clearTimeout(r.timeout),delete r.timeout;let n=`Event ${r.event} was aborted due to a bad connection`,i=new Fh(n,e),o=r.callback;o&&(delete r.callback,o.call(r,i,r))})};b.prototype._destroy=function(e,t){let r=se.socketProtocolErrorStatuses[e];!t&&se.socketProtocolErrorStatuses[e]&&(t=se.socketProtocolErrorStatuses[e]),delete this.socket.onopen,delete this.socket.onclose,delete this.socket.onmessage,delete this.socket.onerror,clearTimeout(this._connectTimeoutRef),clearTimeout(this._pingTimeoutTicker),this.state===this.OPEN?(this.state=this.CLOSED,this._abortAllPendingEventsDueToBadConnection("disconnect"),this._onCloseHandler({code:e,reason:t})):this.state===this.CONNECTING?(this.state=this.CLOSED,this._abortAllPendingEventsDueToBadConnection("connectAbort"),this._onOpenAbortHandler({code:e,reason:t})):this.state===this.CLOSED&&this._abortAllPendingEventsDueToBadConnection("connectAbort")};b.prototype._processInboundPacket=function(e,t){if(e&&typeof e.event=="string")if(typeof e.cid=="number"){let r=new Mh(this,e.cid,e.event,e.data);this._onInboundInvokeHandler(r)}else this._onInboundTransmitHandler({...e});else if(e&&typeof e.rid=="number"){let r=this._callbackMap[e.rid];if(r&&(clearTimeout(r.timeout),delete r.timeout,delete this._callbackMap[e.rid],r.callback)){let n=se.hydrateError(e.error);r.callback(n,e.data)}}else this._onEventHandler({event:"raw",data:{message:t}})};b.prototype._onMessage=function(e){if(this._onEventHandler({event:"message",data:{message:e}}),this._handlePing(e))return;let t=this.decode(e);if(Array.isArray(t)){let r=t.length;for(let n=0;n<r;n++)this._processInboundPacket(t[n],e)}else this._processInboundPacket(t,e)};b.prototype._onError=function(e){this._onErrorHandler({error:e})};b.prototype._resetPingTimeout=function(){if(this.pingTimeoutDisabled)return;let e=new Date().getTime();clearTimeout(this._pingTimeoutTicker),this._pingTimeoutTicker=setTimeout(()=>{this._destroy(4e3),this.socket.close(4e3)},this.pingTimeout)};b.prototype.clearAllListeners=function(){this._onOpenHandler=function(){},this._onOpenAbortHandler=function(){},this._onCloseHandler=function(){},this._onEventHandler=function(){},this._onErrorHandler=function(){},this._onInboundInvokeHandler=function(){},this._onInboundTransmitHandler=function(){}};b.prototype.startBatch=function(){this.isBufferingBatch=!0,this._batchBuffer=[]};b.prototype.flushBatch=function(){if(this.isBufferingBatch=!1,!this._batchBuffer.length)return;let e=this.serializeObject(this._batchBuffer);this._batchBuffer=[],this.send(e)};b.prototype.cancelBatch=function(){this.isBufferingBatch=!1,this._batchBuffer=[]};b.prototype.getBytesReceived=function(){return this.socket.bytesReceived};b.prototype.close=function(e,t){(this.state===this.OPEN||this.state===this.CONNECTING)&&(e=e||1e3,this._destroy(e,t),this.socket.close(e,t))};b.prototype.transmitObject=function(e){let t={event:e.event,data:e.data};return e.callback&&(t.cid=e.cid=this.callIdGenerator(),this._callbackMap[e.cid]=e),this.sendObject(t),e.cid||null};b.prototype._handleEventAckTimeout=function(e){e.cid&&delete this._callbackMap[e.cid],delete e.timeout;let t=e.callback;if(t){delete e.callback;let r=new Uh(`Event response for ${e.event} event timed out`);t.call(e,r,e)}};b.prototype.transmit=function(e,t,r){let n={event:e,data:t};return(this.state===this.OPEN||r.force)&&this.transmitObject(n),Promise.resolve()};b.prototype.invokeRaw=function(e,t,r,n){let i={event:e,data:t,callback:n};r.noTimeout||(i.timeout=setTimeout(()=>{this._handleEventAckTimeout(i)},this.options.ackTimeout));let o=null;return(this.state===this.OPEN||r.force)&&(o=this.transmitObject(i)),o};b.prototype.invoke=function(e,t,r){return new Promise((n,i)=>{this.invokeRaw(e,t,r,(o,s)=>{if(o){i(o);return}n(s)})})};b.prototype.cancelPendingResponse=function(e){delete this._callbackMap[e]};b.prototype.decode=function(e){return this.codec.decode(e)};b.prototype.encode=function(e){return this.codec.encode(e)};b.prototype.send=function(e){this.socket.readyState!==this.socket.OPEN?this._destroy(1005):this.socket.send(e)};b.prototype.serializeObject=function(e){let t;try{t=this.encode(e)}catch(r){return this._onError(r),null}return t};b.prototype.sendObject=function(e){if(this.isBufferingBatch){this._batchBuffer.push(e);return}let t=this.serializeObject(e);t!=null&&this.send(t)};Ki.exports=b});var Yi=u((eC,Ji)=>{"use strict";Ji.exports=$e;$e.Item=Vi;var ge=$e.prototype,ye=Vi.prototype,jh=zi.prototype,He=typeof Symbol>"u"?void 0:Symbol.iterator;ge.tail=ge.head=null;$e.of=Gh;$e.from=Hh;ge.toArray=$h;ge.prepend=Kh;ge.append=Wh;He!==void 0&&(ge[He]=Vh);ye.next=ye.prev=ye.list=null;ye.prepend=Jh;ye.append=Yh;ye.detach=zh;jh.next=Xh;var Et="An argument without append, prepend, or detach methods was given to `List";function $e(){this.size=0,arguments.length!==0&&Ar(this,arguments)}function Ar(e,t){var r,n,i,o;if(!t)return e;if(He!==void 0&&t[He])for(o=t[He](),i={};!i.done;)i=o.next(),e.append(i&&i.value);else for(r=t.length,n=-1;++n<r;)e.append(t[n]);return e}function Gh(){return Ar(new this,arguments)}function Hh(e){return Ar(new this,e)}function $h(){for(var e=this.head,t=[];e;)t.push(e),e=e.next;return t}function Kh(e){var t=this,r=t.head;if(!e)return!1;if(!e.append||!e.prepend||!e.detach)throw new Error(Et+"#prepend`.");return r?r.prepend(e):(e.detach(),e.list=t,t.head=e,t.size++,e)}function Wh(e){if(!e)return!1;if(!e.append||!e.prepend||!e.detach)throw new Error(Et+"#append`.");var t=this,r=t.head,n=t.tail;return n?n.append(e):r?r.append(e):(e.detach(),e.list=t,t.head=e,t.size++,e)}function Vh(){return new zi(this.head)}function Vi(){}function zh(){var e=this,t=e.list,r=e.prev,n=e.next;return t&&(t.tail===e&&(t.tail=r),t.head===e&&(t.head=n),t.tail===t.head&&(t.tail=null),r&&(r.next=n),n&&(n.prev=r),e.prev=e.next=e.list=null,t.size--),e}function Jh(e){if(!e||!e.append||!e.prepend||!e.detach)throw new Error(Et+"Item#prepend`.");var t=this,r=t.list,n=t.prev;return r?(e.detach(),n&&(e.prev=n,n.next=e),e.next=t,e.list=r,t.prev=e,t===r.head&&(r.head=e),r.tail||(r.tail=t),r.size++,e):!1}function Yh(e){if(!e||!e.append||!e.prepend||!e.detach)throw new Error(Et+"Item#append`.");var t=this,r=t.list,n=t.next;return r?(e.detach(),n&&(e.next=n,n.prev=e),e.prev=t,e.list=r,t.next=e,(t===r.tail||!r.tail)&&(r.tail=e),r.size++,e):!1}function zi(e){this.item=e}function Xh(){var e=this.item;return this.value=e,this.done=!e,this.item=e?e.next:void 0,this}});var br=u((tC,Qi)=>{var Qh=Object.prototype.toString;Qi.exports=function(t){if(t===void 0)return"undefined";if(t===null)return"null";var r=typeof t;if(r==="boolean")return"boolean";if(r==="string")return"string";if(r==="number")return"number";if(r==="symbol")return"symbol";if(r==="function")return nd(t)?"generatorfunction":"function";if(Zh(t))return"array";if(sd(t))return"buffer";if(od(t))return"arguments";if(td(t))return"date";if(ed(t))return"error";if(rd(t))return"regexp";switch(Xi(t)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(id(t))return"generator";switch(r=Qh.call(t),r){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return r.slice(8,-1).toLowerCase().replace(/\s/g,"")};function Xi(e){return typeof e.constructor=="function"?e.constructor.name:null}function Zh(e){return Array.isArray?Array.isArray(e):e instanceof Array}function ed(e){return e instanceof Error||typeof e.message=="string"&&e.constructor&&typeof e.constructor.stackTraceLimit=="number"}function td(e){return e instanceof Date?!0:typeof e.toDateString=="function"&&typeof e.getDate=="function"&&typeof e.setDate=="function"}function rd(e){return e instanceof RegExp?!0:typeof e.flags=="string"&&typeof e.ignoreCase=="boolean"&&typeof e.multiline=="boolean"&&typeof e.global=="boolean"}function nd(e,t){return Xi(e)==="GeneratorFunction"}function id(e){return typeof e.throw=="function"&&typeof e.return=="function"&&typeof e.next=="function"}function od(e){try{if(typeof e.length=="number"&&typeof e.callee=="function")return!0}catch(t){if(t.message.indexOf("callee")!==-1)return!0}return!1}function sd(e){return e.constructor&&typeof e.constructor.isBuffer=="function"?e.constructor.isBuffer(e):!1}});var to=u((rC,eo)=>{"use strict";var Zi=Symbol.prototype.valueOf,ad=br();function ud(e,t){switch(ad(e)){case"array":return e.slice();case"object":return Object.assign({},e);case"date":return new e.constructor(Number(e));case"map":return new Map(e);case"set":return new Set(e);case"buffer":return pd(e);case"symbol":return hd(e);case"arraybuffer":return ld(e);case"float32array":case"float64array":case"int16array":case"int32array":case"int8array":case"uint16array":case"uint32array":case"uint8clampedarray":case"uint8array":return fd(e);case"regexp":return cd(e);case"error":return Object.create(e);default:return e}}function cd(e){let t=e.flags!==void 0?e.flags:/\w+$/.exec(e)||void 0,r=new e.constructor(e.source,t);return r.lastIndex=e.lastIndex,r}function ld(e){let t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}function fd(e,t){return new e.constructor(e.buffer,e.byteOffset,e.length)}function pd(e){let t=e.length,r=Buffer.allocUnsafe?Buffer.allocUnsafe(t):Buffer.from(t);return e.copy(r),r}function hd(e){return Zi?Object(Zi.call(e)):{}}eo.exports=ud});var no=u((nC,ro)=>{"use strict";ro.exports=function(t){return t!=null&&typeof t=="object"&&Array.isArray(t)===!1}});var so=u((iC,oo)=>{"use strict";var dd=no();function io(e){return dd(e)===!0&&Object.prototype.toString.call(e)==="[object Object]"}oo.exports=function(t){var r,n;return!(io(t)===!1||(r=t.constructor,typeof r!="function")||(n=r.prototype,io(n)===!1)||n.hasOwnProperty("isPrototypeOf")===!1)}});var uo=u((oC,ao)=>{"use strict";var md=to(),yd=br(),gd=so();function xr(e,t){switch(yd(e)){case"object":return Ed(e,t);case"array":return Sd(e,t);default:return md(e)}}function Ed(e,t){if(typeof t=="function")return t(e);if(t||gd(e)){let r=new e.constructor;for(let n in e)r[n]=xr(e[n],t);return r}return e}function Sd(e,t){let r=new e.constructor(e.length);for(let n=0;n<e.length;n++)r[n]=xr(e[n],t);return r}ao.exports=xr});var fo=u(St=>{"use strict";St.byteLength=bd;St.toByteArray=Td;St.fromByteArray=_d;var $=[],F=[],Ad=typeof Uint8Array<"u"?Uint8Array:Array,Tr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ae=0,co=Tr.length;ae<co;++ae)$[ae]=Tr[ae],F[Tr.charCodeAt(ae)]=ae;var ae,co;F[45]=62;F[95]=63;function lo(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function bd(e){var t=lo(e),r=t[0],n=t[1];return(r+n)*3/4-n}function xd(e,t,r){return(t+r)*3/4-r}function Td(e){var t,r=lo(e),n=r[0],i=r[1],o=new Ad(xd(e,n,i)),s=0,a=i>0?n-4:n,c;for(c=0;c<a;c+=4)t=F[e.charCodeAt(c)]<<18|F[e.charCodeAt(c+1)]<<12|F[e.charCodeAt(c+2)]<<6|F[e.charCodeAt(c+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=t&255;return i===2&&(t=F[e.charCodeAt(c)]<<2|F[e.charCodeAt(c+1)]>>4,o[s++]=t&255),i===1&&(t=F[e.charCodeAt(c)]<<10|F[e.charCodeAt(c+1)]<<4|F[e.charCodeAt(c+2)]>>2,o[s++]=t>>8&255,o[s++]=t&255),o}function vd(e){return $[e>>18&63]+$[e>>12&63]+$[e>>6&63]+$[e&63]}function wd(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(vd(n));return i.join("")}function _d(e){for(var t,r=e.length,n=r%3,i=[],o=16383,s=0,a=r-n;s<a;s+=o)i.push(wd(e,s,s+o>a?a:s+o));return n===1?(t=e[r-1],i.push($[t>>2]+$[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push($[t>>10]+$[t>>4&63]+$[t<<2&63]+"=")),i.join("")}});var po=u(vr=>{vr.read=function(e,t,r,n,i){var o,s,a=i*8-n-1,c=(1<<a)-1,f=c>>1,d=-7,h=r?i-1:0,y=r?-1:1,g=e[t+h];for(h+=y,o=g&(1<<-d)-1,g>>=-d,d+=a;d>0;o=o*256+e[t+h],h+=y,d-=8);for(s=o&(1<<-d)-1,o>>=-d,d+=n;d>0;s=s*256+e[t+h],h+=y,d-=8);if(o===0)o=1-f;else{if(o===c)return s?NaN:(g?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-f}return(g?-1:1)*s*Math.pow(2,o-n)};vr.write=function(e,t,r,n,i,o){var s,a,c,f=o*8-i-1,d=(1<<f)-1,h=d>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:o-1,m=n?1:-1,E=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=d):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+h>=1?t+=y/c:t+=y*Math.pow(2,1-h),t*c>=2&&(s++,c/=2),s+h>=d?(a=0,s=d):s+h>=1?(a=(t*c-1)*Math.pow(2,i),s=s+h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[r+g]=a&255,g+=m,a/=256,i-=8);for(s=s<<i|a,f+=i;f>0;e[r+g]=s&255,g+=m,s/=256,f-=8);e[r+g-m]|=E*128}});var _o=u(Se=>{"use strict";var wr=fo(),Ee=po(),ho=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Se.Buffer=p;Se.SlowBuffer=Nd;Se.INSPECT_MAX_BYTES=50;var At=2147483647;Se.kMaxLength=At;p.TYPED_ARRAY_SUPPORT=Cd();!p.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Cd(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch{return!1}}Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.buffer}});Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.byteOffset}});function J(e){if(e>At)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,p.prototype),t}function p(e,t,r){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Or(e)}return go(e,t,r)}p.poolSize=8192;function go(e,t,r){if(typeof e=="string")return Od(e,t);if(ArrayBuffer.isView(e))return kd(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(K(e,ArrayBuffer)||e&&K(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(K(e,SharedArrayBuffer)||e&&K(e.buffer,SharedArrayBuffer)))return Cr(e,t,r);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(n!=null&&n!==e)return p.from(n,t,r);var i=Dd(e);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return p.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}p.from=function(e,t,r){return go(e,t,r)};Object.setPrototypeOf(p.prototype,Uint8Array.prototype);Object.setPrototypeOf(p,Uint8Array);function Eo(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function Id(e,t,r){return Eo(e),e<=0?J(e):t!==void 0?typeof r=="string"?J(e).fill(t,r):J(e).fill(t):J(e)}p.alloc=function(e,t,r){return Id(e,t,r)};function Or(e){return Eo(e),J(e<0?0:kr(e)|0)}p.allocUnsafe=function(e){return Or(e)};p.allocUnsafeSlow=function(e){return Or(e)};function Od(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!p.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=So(e,t)|0,n=J(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}function _r(e){for(var t=e.length<0?0:kr(e.length)|0,r=J(t),n=0;n<t;n+=1)r[n]=e[n]&255;return r}function kd(e){if(K(e,Uint8Array)){var t=new Uint8Array(e);return Cr(t.buffer,t.byteOffset,t.byteLength)}return _r(e)}function Cr(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return t===void 0&&r===void 0?n=new Uint8Array(e):r===void 0?n=new Uint8Array(e,t):n=new Uint8Array(e,t,r),Object.setPrototypeOf(n,p.prototype),n}function Dd(e){if(p.isBuffer(e)){var t=kr(e.length)|0,r=J(t);return r.length===0||e.copy(r,0,0,t),r}if(e.length!==void 0)return typeof e.length!="number"||Dr(e.length)?J(0):_r(e);if(e.type==="Buffer"&&Array.isArray(e.data))return _r(e.data)}function kr(e){if(e>=At)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+At.toString(16)+" bytes");return e|0}function Nd(e){return+e!=e&&(e=0),p.alloc(+e)}p.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==p.prototype};p.compare=function(t,r){if(K(t,Uint8Array)&&(t=p.from(t,t.offset,t.byteLength)),K(r,Uint8Array)&&(r=p.from(r,r.offset,r.byteLength)),!p.isBuffer(t)||!p.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===r)return 0;for(var n=t.length,i=r.length,o=0,s=Math.min(n,i);o<s;++o)if(t[o]!==r[o]){n=t[o],i=r[o];break}return n<i?-1:i<n?1:0};p.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};p.concat=function(t,r){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return p.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<t.length;++n)r+=t[n].length;var i=p.allocUnsafe(r),o=0;for(n=0;n<t.length;++n){var s=t[n];if(K(s,Uint8Array))o+s.length>i.length?p.from(s).copy(i,o):Uint8Array.prototype.set.call(i,s,o);else if(p.isBuffer(s))s.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return i};function So(e,t){if(p.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||K(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Ir(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return wo(e).length;default:if(i)return n?-1:Ir(e).length;t=(""+t).toLowerCase(),i=!0}}p.byteLength=So;function Pd(e,t,r){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return Hd(this,t,r);case"utf8":case"utf-8":return bo(this,t,r);case"ascii":return jd(this,t,r);case"latin1":case"binary":return Gd(this,t,r);case"base64":return Ud(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $d(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}p.prototype._isBuffer=!0;function ue(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}p.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)ue(this,r,r+1);return this};p.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)ue(this,r,r+3),ue(this,r+1,r+2);return this};p.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)ue(this,r,r+7),ue(this,r+1,r+6),ue(this,r+2,r+5),ue(this,r+3,r+4);return this};p.prototype.toString=function(){var t=this.length;return t===0?"":arguments.length===0?bo(this,0,t):Pd.apply(this,arguments)};p.prototype.toLocaleString=p.prototype.toString;p.prototype.equals=function(t){if(!p.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:p.compare(this,t)===0};p.prototype.inspect=function(){var t="",r=Se.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"};ho&&(p.prototype[ho]=p.prototype.inspect);p.prototype.compare=function(t,r,n,i,o){if(K(t,Uint8Array)&&(t=p.from(t,t.offset,t.byteLength)),!p.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(r===void 0&&(r=0),n===void 0&&(n=t?t.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===t)return 0;for(var s=o-i,a=n-r,c=Math.min(s,a),f=this.slice(i,o),d=t.slice(r,n),h=0;h<c;++h)if(f[h]!==d[h]){s=f[h],a=d[h];break}return s<a?-1:a<s?1:0};function Ao(e,t,r,n,i){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Dr(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof t=="string"&&(t=p.from(t,n)),p.isBuffer(t))return t.length===0?-1:mo(e,t,r,n,i);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):mo(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function mo(e,t,r,n,i){var o=1,s=e.length,a=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;o=2,s/=2,a/=2,r/=2}function c(g,m){return o===1?g[m]:g.readUInt16BE(m*o)}var f;if(i){var d=-1;for(f=r;f<s;f++)if(c(e,f)===c(t,d===-1?0:f-d)){if(d===-1&&(d=f),f-d+1===a)return d*o}else d!==-1&&(f-=f-d),d=-1}else for(r+a>s&&(r=s-a),f=r;f>=0;f--){for(var h=!0,y=0;y<a;y++)if(c(e,f+y)!==c(t,y)){h=!1;break}if(h)return f}return-1}p.prototype.includes=function(t,r,n){return this.indexOf(t,r,n)!==-1};p.prototype.indexOf=function(t,r,n){return Ao(this,t,r,n,!0)};p.prototype.lastIndexOf=function(t,r,n){return Ao(this,t,r,n,!1)};function Bd(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var o=t.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(s*2,2),16);if(Dr(a))return s;e[r+s]=a}return s}function Ld(e,t,r,n){return bt(Ir(t,e.length-r),e,r,n)}function Rd(e,t,r,n){return bt(Vd(t),e,r,n)}function qd(e,t,r,n){return bt(wo(t),e,r,n)}function Md(e,t,r,n){return bt(zd(t,e.length-r),e,r,n)}p.prototype.write=function(t,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-r;if((n===void 0||n>o)&&(n=o),t.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return Bd(this,t,r,n);case"utf8":case"utf-8":return Ld(this,t,r,n);case"ascii":case"latin1":case"binary":return Rd(this,t,r,n);case"base64":return qd(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Md(this,t,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ud(e,t,r){return t===0&&r===e.length?wr.fromByteArray(e):wr.fromByteArray(e.slice(t,r))}function bo(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o=e[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=r){var c,f,d,h;switch(a){case 1:o<128&&(s=o);break;case 2:c=e[i+1],(c&192)===128&&(h=(o&31)<<6|c&63,h>127&&(s=h));break;case 3:c=e[i+1],f=e[i+2],(c&192)===128&&(f&192)===128&&(h=(o&15)<<12|(c&63)<<6|f&63,h>2047&&(h<55296||h>57343)&&(s=h));break;case 4:c=e[i+1],f=e[i+2],d=e[i+3],(c&192)===128&&(f&192)===128&&(d&192)===128&&(h=(o&15)<<18|(c&63)<<12|(f&63)<<6|d&63,h>65535&&h<1114112&&(s=h))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=a}return Fd(n)}var yo=4096;function Fd(e){var t=e.length;if(t<=yo)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=yo));return r}function jd(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]&127);return n}function Gd(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function Hd(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=Jd[e[o]];return i}function $d(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}p.prototype.slice=function(t,r){var n=this.length;t=~~t,r=r===void 0?n:~~r,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<t&&(r=t);var i=this.subarray(t,r);return Object.setPrototypeOf(i,p.prototype),i};function C(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}p.prototype.readUintLE=p.prototype.readUIntLE=function(t,r,n){t=t>>>0,r=r>>>0,n||C(t,r,this.length);for(var i=this[t],o=1,s=0;++s<r&&(o*=256);)i+=this[t+s]*o;return i};p.prototype.readUintBE=p.prototype.readUIntBE=function(t,r,n){t=t>>>0,r=r>>>0,n||C(t,r,this.length);for(var i=this[t+--r],o=1;r>0&&(o*=256);)i+=this[t+--r]*o;return i};p.prototype.readUint8=p.prototype.readUInt8=function(t,r){return t=t>>>0,r||C(t,1,this.length),this[t]};p.prototype.readUint16LE=p.prototype.readUInt16LE=function(t,r){return t=t>>>0,r||C(t,2,this.length),this[t]|this[t+1]<<8};p.prototype.readUint16BE=p.prototype.readUInt16BE=function(t,r){return t=t>>>0,r||C(t,2,this.length),this[t]<<8|this[t+1]};p.prototype.readUint32LE=p.prototype.readUInt32LE=function(t,r){return t=t>>>0,r||C(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};p.prototype.readUint32BE=p.prototype.readUInt32BE=function(t,r){return t=t>>>0,r||C(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};p.prototype.readIntLE=function(t,r,n){t=t>>>0,r=r>>>0,n||C(t,r,this.length);for(var i=this[t],o=1,s=0;++s<r&&(o*=256);)i+=this[t+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};p.prototype.readIntBE=function(t,r,n){t=t>>>0,r=r>>>0,n||C(t,r,this.length);for(var i=r,o=1,s=this[t+--i];i>0&&(o*=256);)s+=this[t+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s};p.prototype.readInt8=function(t,r){return t=t>>>0,r||C(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};p.prototype.readInt16LE=function(t,r){t=t>>>0,r||C(t,2,this.length);var n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};p.prototype.readInt16BE=function(t,r){t=t>>>0,r||C(t,2,this.length);var n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};p.prototype.readInt32LE=function(t,r){return t=t>>>0,r||C(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};p.prototype.readInt32BE=function(t,r){return t=t>>>0,r||C(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};p.prototype.readFloatLE=function(t,r){return t=t>>>0,r||C(t,4,this.length),Ee.read(this,t,!0,23,4)};p.prototype.readFloatBE=function(t,r){return t=t>>>0,r||C(t,4,this.length),Ee.read(this,t,!1,23,4)};p.prototype.readDoubleLE=function(t,r){return t=t>>>0,r||C(t,8,this.length),Ee.read(this,t,!0,52,8)};p.prototype.readDoubleBE=function(t,r){return t=t>>>0,r||C(t,8,this.length),Ee.read(this,t,!1,52,8)};function U(e,t,r,n,i,o){if(!p.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}p.prototype.writeUintLE=p.prototype.writeUIntLE=function(t,r,n,i){if(t=+t,r=r>>>0,n=n>>>0,!i){var o=Math.pow(2,8*n)-1;U(this,t,r,n,o,0)}var s=1,a=0;for(this[r]=t&255;++a<n&&(s*=256);)this[r+a]=t/s&255;return r+n};p.prototype.writeUintBE=p.prototype.writeUIntBE=function(t,r,n,i){if(t=+t,r=r>>>0,n=n>>>0,!i){var o=Math.pow(2,8*n)-1;U(this,t,r,n,o,0)}var s=n-1,a=1;for(this[r+s]=t&255;--s>=0&&(a*=256);)this[r+s]=t/a&255;return r+n};p.prototype.writeUint8=p.prototype.writeUInt8=function(t,r,n){return t=+t,r=r>>>0,n||U(this,t,r,1,255,0),this[r]=t&255,r+1};p.prototype.writeUint16LE=p.prototype.writeUInt16LE=function(t,r,n){return t=+t,r=r>>>0,n||U(this,t,r,2,65535,0),this[r]=t&255,this[r+1]=t>>>8,r+2};p.prototype.writeUint16BE=p.prototype.writeUInt16BE=function(t,r,n){return t=+t,r=r>>>0,n||U(this,t,r,2,65535,0),this[r]=t>>>8,this[r+1]=t&255,r+2};p.prototype.writeUint32LE=p.prototype.writeUInt32LE=function(t,r,n){return t=+t,r=r>>>0,n||U(this,t,r,4,4294967295,0),this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=t&255,r+4};p.prototype.writeUint32BE=p.prototype.writeUInt32BE=function(t,r,n){return t=+t,r=r>>>0,n||U(this,t,r,4,4294967295,0),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4};p.prototype.writeIntLE=function(t,r,n,i){if(t=+t,r=r>>>0,!i){var o=Math.pow(2,8*n-1);U(this,t,r,n,o-1,-o)}var s=0,a=1,c=0;for(this[r]=t&255;++s<n&&(a*=256);)t<0&&c===0&&this[r+s-1]!==0&&(c=1),this[r+s]=(t/a>>0)-c&255;return r+n};p.prototype.writeIntBE=function(t,r,n,i){if(t=+t,r=r>>>0,!i){var o=Math.pow(2,8*n-1);U(this,t,r,n,o-1,-o)}var s=n-1,a=1,c=0;for(this[r+s]=t&255;--s>=0&&(a*=256);)t<0&&c===0&&this[r+s+1]!==0&&(c=1),this[r+s]=(t/a>>0)-c&255;return r+n};p.prototype.writeInt8=function(t,r,n){return t=+t,r=r>>>0,n||U(this,t,r,1,127,-128),t<0&&(t=255+t+1),this[r]=t&255,r+1};p.prototype.writeInt16LE=function(t,r,n){return t=+t,r=r>>>0,n||U(this,t,r,2,32767,-32768),this[r]=t&255,this[r+1]=t>>>8,r+2};p.prototype.writeInt16BE=function(t,r,n){return t=+t,r=r>>>0,n||U(this,t,r,2,32767,-32768),this[r]=t>>>8,this[r+1]=t&255,r+2};p.prototype.writeInt32LE=function(t,r,n){return t=+t,r=r>>>0,n||U(this,t,r,4,2147483647,-2147483648),this[r]=t&255,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24,r+4};p.prototype.writeInt32BE=function(t,r,n){return t=+t,r=r>>>0,n||U(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4};function xo(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function To(e,t,r,n,i){return t=+t,r=r>>>0,i||xo(e,t,r,4,34028234663852886e22,-34028234663852886e22),Ee.write(e,t,r,n,23,4),r+4}p.prototype.writeFloatLE=function(t,r,n){return To(this,t,r,!0,n)};p.prototype.writeFloatBE=function(t,r,n){return To(this,t,r,!1,n)};function vo(e,t,r,n,i){return t=+t,r=r>>>0,i||xo(e,t,r,8,17976931348623157e292,-17976931348623157e292),Ee.write(e,t,r,n,52,8),r+8}p.prototype.writeDoubleLE=function(t,r,n){return vo(this,t,r,!0,n)};p.prototype.writeDoubleBE=function(t,r,n){return vo(this,t,r,!1,n)};p.prototype.copy=function(t,r,n,i){if(!p.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=t.length&&(r=t.length),r||(r=0),i>0&&i<n&&(i=n),i===n||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-r<i-n&&(i=t.length-r+n);var o=i-n;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(t,this.subarray(n,i),r),o};p.prototype.fill=function(t,r,n,i){if(typeof t=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!p.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(t.length===1){var o=t.charCodeAt(0);(i==="utf8"&&o<128||i==="latin1")&&(t=o)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);var s;if(typeof t=="number")for(s=r;s<n;++s)this[s]=t;else{var a=p.isBuffer(t)?t:p.from(t,i),c=a.length;if(c===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(s=0;s<n-r;++s)this[s+r]=a[s%c]}return this};var Kd=/[^+/0-9A-Za-z-_]/g;function Wd(e){if(e=e.split("=")[0],e=e.trim().replace(Kd,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function Ir(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function Vd(e){for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r)&255);return t}function zd(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function wo(e){return wr.toByteArray(Wd(e))}function bt(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function K(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function Dr(e){return e!==e}var Jd=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=r*16,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()});var Io=u((cC,Co)=>{function Yd(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}Co.exports=Yd});var Br=u((lC,No)=>{var xt=yr(),Oo=ci(),P=hi(),Xd=mi(),Qd=yi(),Ke=Wi(),ko=Yi(),Zd=uo(),Do=_o().Buffer,Nr=Io(),X=je(),Pr=X.InvalidArgumentsError,em=X.InvalidMessageError,tm=X.SocketProtocolError,rm=X.TimeoutError,nm=X.BadConnectionError;function l(e){Oo.call(this);let r=Object.assign({path:"/socketcluster/",secure:!1,protocolScheme:null,socketPath:null,autoConnect:!0,autoReconnect:!0,autoSubscribeOnConnect:!0,connectTimeout:2e4,ackTimeout:1e4,timestampRequests:!1,timestampParam:"t",binaryType:"arraybuffer",batchOnHandshake:!1,batchOnHandshakeDuration:100,batchInterval:50,protocolVersion:2,wsOptions:{},cloneData:!1},e);if(r.authTokenName==null){let o=r.host?`.${r.host}`:`.${r.hostname||"localhost"}${r.port?`:${r.port}`:""}`;r.authTokenName=`socketcluster.authToken${o}`}this.id=null,this.version=r.version||null,this.protocolVersion=r.protocolVersion,this.state=this.CLOSED,this.authState=this.UNAUTHENTICATED,this.signedAuthToken=null,this.authToken=null,this.pendingReconnect=!1,this.pendingReconnectTimeout=null,this.preparingPendingSubscriptions=!1,this.clientId=r.clientId,this.wsOptions=r.wsOptions,this.connectTimeout=r.connectTimeout,this.ackTimeout=r.ackTimeout,this.channelPrefix=r.channelPrefix||null,this.authTokenName=r.authTokenName,r.pingTimeout=r.connectTimeout,this.pingTimeout=r.pingTimeout,this.pingTimeoutDisabled=!!r.pingTimeoutDisabled;let n=Math.pow(2,31)-1,i=o=>{if(this[o]>n)throw new Pr(`The ${o} value provided exceeded the maximum amount allowed`)};if(i("connectTimeout"),i("ackTimeout"),i("pingTimeout"),this.connectAttempts=0,this.isBatching=!1,this.batchOnHandshake=r.batchOnHandshake,this.batchOnHandshakeDuration=r.batchOnHandshakeDuration,this._batchingIntervalId=null,this._outboundBuffer=new ko,this._channelMap={},this._channelEventDemux=new xt,this._channelDataDemux=new xt,this._receiverDemux=new xt,this._procedureDemux=new xt,this.options=r,this._cid=1,this.options.callIdGenerator=()=>this._cid++,this.options.autoReconnect){this.options.autoReconnectOptions==null&&(this.options.autoReconnectOptions={});let o=this.options.autoReconnectOptions;o.initialDelay==null&&(o.initialDelay=1e4),o.randomness==null&&(o.randomness=1e4),o.multiplier==null&&(o.multiplier=1.5),o.maxDelay==null&&(o.maxDelay=6e4)}if(this.options.subscriptionRetryOptions==null&&(this.options.subscriptionRetryOptions={}),this.options.authEngine?this.auth=this.options.authEngine:this.auth=new Xd,this.options.codecEngine?this.codec=this.options.codecEngine:this.codec=Qd,this.options.protocol){let o=new Pr("The protocol option does not affect socketcluster-client - If you want to utilize SSL/TLS, use the secure option instead");this._onError(o)}if(this.options.query=r.query||{},typeof this.options.query=="string"){let o=new URLSearchParams(this.options.query),s={};for(let[a,c]of o.entries()){let f=s[a];f==null?s[a]=c:(Array.isArray(f)||(s[a]=[f]),s[a].push(c))}this.options.query=s}this.options.autoConnect&&this.connect()}l.prototype=Object.create(Oo.prototype);l.CONNECTING=l.prototype.CONNECTING=Ke.prototype.CONNECTING;l.OPEN=l.prototype.OPEN=Ke.prototype.OPEN;l.CLOSED=l.prototype.CLOSED=Ke.prototype.CLOSED;l.AUTHENTICATED=l.prototype.AUTHENTICATED="authenticated";l.UNAUTHENTICATED=l.prototype.UNAUTHENTICATED="unauthenticated";l.SUBSCRIBED=l.prototype.SUBSCRIBED=P.SUBSCRIBED;l.PENDING=l.prototype.PENDING=P.PENDING;l.UNSUBSCRIBED=l.prototype.UNSUBSCRIBED=P.UNSUBSCRIBED;l.ignoreStatuses=X.socketProtocolIgnoreStatuses;l.errorStatuses=X.socketProtocolErrorStatuses;Object.defineProperty(l.prototype,"isBufferingBatch",{get:function(){return this.transport.isBufferingBatch}});l.prototype.uri=function(){return Ke.computeURI(this.options)};l.prototype.getBackpressure=function(){return Math.max(this.getAllListenersBackpressure(),this.getAllReceiversBackpressure(),this.getAllProceduresBackpressure(),this.getAllChannelsBackpressure())};l.prototype._setAuthToken=function(e){this._changeToAuthenticatedState(e.token),(async()=>{try{await this.auth.saveToken(this.authTokenName,e.token,{})}catch(t){this._onError(t)}})()};l.prototype._removeAuthToken=function(e){(async()=>{let t;try{t=await this.auth.removeToken(this.authTokenName)}catch(r){this._onError(r);return}this.emit("removeAuthToken",{oldAuthToken:t})})(),this._changeToUnauthenticatedStateAndClearTokens()};l.prototype._privateDataHandlerMap={"#publish":function(e){if(typeof e.channel!="string")return;let t=this._undecorateChannelName(e.channel);this.isSubscribed(t,!0)&&this._channelDataDemux.write(t,e.data)},"#kickOut":function(e){if(typeof e.channel!="string")return;let t=this._undecorateChannelName(e.channel),r=this._channelMap[t];r&&(this.emit("kickOut",{channel:t,message:e.message}),this._channelEventDemux.write(`${t}/kickOut`,{message:e.message}),this._triggerChannelUnsubscribe(r))},"#setAuthToken":function(e){e&&this._setAuthToken(e)},"#removeAuthToken":function(e){this._removeAuthToken(e)}};l.prototype._privateRPCHandlerMap={"#setAuthToken":function(e,t){if(e)this._setAuthToken(e),t.end();else{let r=new em("No token data provided by #setAuthToken event");delete r.stack,t.error(r)}},"#removeAuthToken":function(e,t){this._removeAuthToken(e),t.end()}};l.prototype.getState=function(){return this.state};l.prototype.getBytesReceived=function(){return this.transport.getBytesReceived()};l.prototype.deauthenticate=async function(){(async()=>{let e;try{e=await this.auth.removeToken(this.authTokenName)}catch(t){this._onError(t);return}this.emit("removeAuthToken",{oldAuthToken:e})})(),this.state!==this.CLOSED&&this.transmit("#removeAuthToken"),this._changeToUnauthenticatedStateAndClearTokens(),await Nr(0)};l.prototype.connect=function(e){if(e&&(this.state!==this.CLOSED&&this.disconnect(1e3,"Socket was disconnected by the client to initiate a new connection"),this.options={...this.options,...e}),this.state===this.CLOSED){this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef),this.state=this.CONNECTING,this.emit("connecting",{}),this.transport&&this.transport.clearAllListeners();let t={onOpen:r=>{this.state=this.OPEN,this._onOpen(r)},onOpenAbort:r=>{this.state!==this.CLOSED&&(this.state=this.CLOSED,this._destroy(r.code,r.reason,!0))},onClose:r=>{this.state!==this.CLOSED&&(this.state=this.CLOSED,this._destroy(r.code,r.reason))},onEvent:r=>{this.emit(r.event,r.data)},onError:r=>{this._onError(r.error)},onInboundInvoke:r=>{this._onInboundInvoke(r)},onInboundTransmit:r=>{this._onInboundTransmit(r.event,r.data)}};this.transport=new Ke(this.auth,this.codec,this.options,this.wsOptions,t)}};l.prototype.reconnect=function(e,t){this.disconnect(e,t),this.connect()};l.prototype.disconnect=function(e,t){if(e=e||1e3,typeof e!="number")throw new Pr("If specified, the code argument must be a number");let r=this.state===this.CONNECTING;r||this.state===this.OPEN?(this.state=this.CLOSED,this._destroy(e,t,r),this.transport.close(e,t)):(this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef))};l.prototype._changeToUnauthenticatedStateAndClearTokens=function(){if(this.authState!==this.UNAUTHENTICATED){let e=this.authState,t=this.authToken,r=this.signedAuthToken;this.authState=this.UNAUTHENTICATED,this.signedAuthToken=null,this.authToken=null;let n={oldAuthState:e,newAuthState:this.authState};this.emit("authStateChange",n),this.emit("deauthenticate",{oldSignedAuthToken:r,oldAuthToken:t})}};l.prototype._changeToAuthenticatedState=function(e){if(this.signedAuthToken=e,this.authToken=this._extractAuthTokenData(e),this.authState!==this.AUTHENTICATED){let t=this.authState;this.authState=this.AUTHENTICATED;let r={oldAuthState:t,newAuthState:this.authState,signedAuthToken:e,authToken:this.authToken};this.preparingPendingSubscriptions||this.processPendingSubscriptions(),this.emit("authStateChange",r)}this.emit("authenticate",{signedAuthToken:e,authToken:this.authToken})};l.prototype.decodeBase64=function(e){return Do.from(e,"base64").toString("utf8")};l.prototype.encodeBase64=function(e){return Do.from(e,"utf8").toString("base64")};l.prototype._extractAuthTokenData=function(e){if(typeof e!="string")return null;let r=e.split(".")[1];if(r!=null){let n=r;try{return n=this.decodeBase64(n),JSON.parse(n)}catch{return n}}return null};l.prototype.getAuthToken=function(){return this.authToken};l.prototype.getSignedAuthToken=function(){return this.signedAuthToken};l.prototype.authenticate=async function(e){let t;try{t=await this.invoke("#authenticate",e)}catch(r){throw r.name!=="BadConnectionError"&&r.name!=="TimeoutError"&&this._changeToUnauthenticatedStateAndClearTokens(),await Nr(0),r}return t&&t.isAuthenticated!=null?t.authError&&(t.authError=X.hydrateError(t.authError)):t={isAuthenticated:this.authState,authError:null},t.isAuthenticated?this._changeToAuthenticatedState(e):this._changeToUnauthenticatedStateAndClearTokens(),(async()=>{try{await this.auth.saveToken(this.authTokenName,e,{})}catch(r){this._onError(r)}})(),await Nr(0),t};l.prototype._tryReconnect=function(e){let t=this.connectAttempts++,r=this.options.autoReconnectOptions,n;if(e==null||t>0){let i=Math.round(r.initialDelay+(r.randomness||0)*Math.random());n=Math.round(i*Math.pow(r.multiplier,t))}else n=e;n>r.maxDelay&&(n=r.maxDelay),clearTimeout(this._reconnectTimeoutRef),this.pendingReconnect=!0,this.pendingReconnectTimeout=n,this._reconnectTimeoutRef=setTimeout(()=>{this.connect()},n)};l.prototype._onOpen=function(e){this.isBatching?this._startBatching():this.batchOnHandshake&&(this._startBatching(),setTimeout(()=>{this.isBatching||this._stopBatching()},this.batchOnHandshakeDuration)),this.preparingPendingSubscriptions=!0,e?(this.id=e.id,this.pingTimeout=e.pingTimeout,e.isAuthenticated?this._changeToAuthenticatedState(e.authToken):this._changeToUnauthenticatedStateAndClearTokens()):this._changeToUnauthenticatedStateAndClearTokens(),this.connectAttempts=0,this.options.autoSubscribeOnConnect&&this.processPendingSubscriptions(),this.emit("connect",{...e,processPendingSubscriptions:()=>{this.processPendingSubscriptions()}}),this.state===this.OPEN&&this._flushOutboundBuffer()};l.prototype._onError=function(e){this.emit("error",{error:e})};l.prototype._suspendSubscriptions=function(){Object.keys(this._channelMap).forEach(e=>{let t=this._channelMap[e];this._triggerChannelUnsubscribe(t,!0)})};l.prototype._abortAllPendingEventsDueToBadConnection=function(e){let t=this._outboundBuffer.head,r;for(;t;){r=t.next;let n=t.data;clearTimeout(n.timeout),delete n.timeout,t.detach(),t=r;let i=n.callback;if(i){delete n.callback;let o=`Event ${n.event} was aborted due to a bad connection`,s=new nm(o,e);i.call(n,s,n)}n.cid&&this.transport.cancelPendingResponse(n.cid)}};l.prototype._destroy=function(e,t,r){if(this.id=null,this._cancelBatching(),this.transport&&this.transport.clearAllListeners(),this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef),this._suspendSubscriptions(),r?this.emit("connectAbort",{code:e,reason:t}):this.emit("disconnect",{code:e,reason:t}),this.emit("close",{code:e,reason:t}),!l.ignoreStatuses[e]){let n;typeof t=="string"?n="Socket connection closed with status code "+e+" and reason: "+t:n="Socket connection closed with status code "+e;let i=new tm(l.errorStatuses[e]||n,e);this._onError(i)}this._abortAllPendingEventsDueToBadConnection(r?"connectAbort":"disconnect"),this.options.autoReconnect&&(e===4e3||e===4001||e===1005?this._tryReconnect(0):e!==1e3&&e<4500&&this._tryReconnect())};l.prototype._onInboundTransmit=function(e,t){let r=this._privateDataHandlerMap[e];r?r.call(this,t||{}):this._receiverDemux.write(e,t)};l.prototype._onInboundInvoke=function(e){let{procedure:t,data:r}=e,n=this._privateRPCHandlerMap[t];n?n.call(this,r,e):this._procedureDemux.write(t,e)};l.prototype.decode=function(e){return this.transport.decode(e)};l.prototype.encode=function(e){return this.transport.encode(e)};l.prototype._flushOutboundBuffer=function(){let e=this._outboundBuffer.head,t;for(;e;){t=e.next;let r=e.data;e.detach(),this.transport.transmitObject(r),e=t}};l.prototype._handleEventAckTimeout=function(e,t){t&&t.detach(),delete e.timeout;let r=e.callback;if(r){delete e.callback;let n=new rm(`Event response for ${e.event} event timed out`);r.call(e,n,e)}e.cid&&this.transport.cancelPendingResponse(e.cid)};l.prototype._processOutboundEvent=function(e,t,r,n){r=r||{},this.state===this.CLOSED&&this.connect();let i={event:e},o;n?o=new Promise((c,f)=>{i.callback=(d,h)=>{if(d){f(d);return}c(h)}}):o=Promise.resolve();let s=new ko.Item;this.options.cloneData?i.data=Zd(t):i.data=t,s.data=i;let a=r.ackTimeout==null?this.ackTimeout:r.ackTimeout;return i.timeout=setTimeout(()=>{this._handleEventAckTimeout(i,s)},a),this._outboundBuffer.append(s),this.state===this.OPEN&&this._flushOutboundBuffer(),o};l.prototype.send=function(e){this.transport.send(e)};l.prototype.transmit=function(e,t,r){return this._processOutboundEvent(e,t,r)};l.prototype.invoke=function(e,t,r){return this._processOutboundEvent(e,t,r,!0)};l.prototype.transmitPublish=function(e,t){let r={channel:this._decorateChannelName(e),data:t};return this.transmit("#publish",r)};l.prototype.invokePublish=function(e,t){let r={channel:this._decorateChannelName(e),data:t};return this.invoke("#publish",r)};l.prototype._triggerChannelSubscribe=function(e,t){let r=e.name;if(e.state!==P.SUBSCRIBED){let n=e.state;e.state=P.SUBSCRIBED;let i={oldChannelState:n,newChannelState:e.state,subscriptionOptions:t};this._channelEventDemux.write(`${r}/subscribeStateChange`,i),this._channelEventDemux.write(`${r}/subscribe`,{subscriptionOptions:t}),this.emit("subscribeStateChange",{channel:r,...i}),this.emit("subscribe",{channel:r,subscriptionOptions:t})}};l.prototype._triggerChannelSubscribeFail=function(e,t,r){let n=t.name,i=!t.options.waitForAuth||this.authState===this.AUTHENTICATED;!!this._channelMap[n]&&i&&(delete this._channelMap[n],this._channelEventDemux.write(`${n}/subscribeFail`,{error:e,subscriptionOptions:r}),this.emit("subscribeFail",{error:e,channel:n,subscriptionOptions:r}))};l.prototype._cancelPendingSubscribeCallback=function(e){e._pendingSubscriptionCid!=null&&(this.transport.cancelPendingResponse(e._pendingSubscriptionCid),delete e._pendingSubscriptionCid)};l.prototype._decorateChannelName=function(e){return this.channelPrefix&&(e=this.channelPrefix+e),e};l.prototype._undecorateChannelName=function(e){return this.channelPrefix&&e.indexOf(this.channelPrefix)===0?e.replace(this.channelPrefix,""):e};l.prototype.startBatch=function(){this.transport.startBatch()};l.prototype.flushBatch=function(){this.transport.flushBatch()};l.prototype.cancelBatch=function(){this.transport.cancelBatch()};l.prototype._startBatching=function(){this._batchingIntervalId==null&&(this.startBatch(),this._batchingIntervalId=setInterval(()=>{this.flushBatch(),this.startBatch()},this.options.batchInterval))};l.prototype.startBatching=function(){this.isBatching=!0,this._startBatching()};l.prototype._stopBatching=function(){this._batchingIntervalId!=null&&clearInterval(this._batchingIntervalId),this._batchingIntervalId=null,this.flushBatch()};l.prototype.stopBatching=function(){this.isBatching=!1,this._stopBatching()};l.prototype._cancelBatching=function(){this._batchingIntervalId!=null&&clearInterval(this._batchingIntervalId),this._batchingIntervalId=null,this.cancelBatch()};l.prototype.cancelBatching=function(){this.isBatching=!1,this._cancelBatching()};l.prototype._trySubscribe=function(e){let t=!e.options.waitForAuth||this.authState===this.AUTHENTICATED;if(this.state===this.OPEN&&!this.preparingPendingSubscriptions&&e._pendingSubscriptionCid==null&&t){let r={noTimeout:!0},n={};e.options.waitForAuth&&(r.waitForAuth=!0,n.waitForAuth=r.waitForAuth),e.options.data&&(n.data=e.options.data),e._pendingSubscriptionCid=this.transport.invokeRaw("#subscribe",{channel:this._decorateChannelName(e.name),...n},r,i=>{if(i){if(i.name==="BadConnectionError")return;delete e._pendingSubscriptionCid,this._triggerChannelSubscribeFail(i,e,n)}else delete e._pendingSubscriptionCid,this._triggerChannelSubscribe(e,n)}),this.emit("subscribeRequest",{channel:e.name,subscriptionOptions:n})}};l.prototype.subscribe=function(e,t){t=t||{};let r=this._channelMap[e],n={waitForAuth:!!t.waitForAuth};return t.priority!=null&&(n.priority=t.priority),t.data!==void 0&&(n.data=t.data),r?t&&(r.options=n):(r={name:e,state:P.PENDING,options:n},this._channelMap[e]=r,this._trySubscribe(r)),new P(e,this,this._channelEventDemux,this._channelDataDemux)};l.prototype._triggerChannelUnsubscribe=function(e,t){let r=e.name;if(this._cancelPendingSubscribeCallback(e),e.state===P.SUBSCRIBED){let n={oldChannelState:e.state,newChannelState:t?P.PENDING:P.UNSUBSCRIBED};this._channelEventDemux.write(`${r}/subscribeStateChange`,n),this._channelEventDemux.write(`${r}/unsubscribe`,{}),this.emit("subscribeStateChange",{channel:r,...n}),this.emit("unsubscribe",{channel:r})}t?e.state=P.PENDING:delete this._channelMap[r]};l.prototype._tryUnsubscribe=function(e){if(this.state===this.OPEN){let t={noTimeout:!0};this._cancelPendingSubscribeCallback(e);let r=this._decorateChannelName(e.name);this.transport.transmit("#unsubscribe",r,t)}};l.prototype.unsubscribe=function(e){let t=this._channelMap[e];t&&(this._triggerChannelUnsubscribe(t),this._tryUnsubscribe(t))};l.prototype.receiver=function(e){return this._receiverDemux.stream(e)};l.prototype.closeReceiver=function(e){this._receiverDemux.close(e)};l.prototype.closeAllReceivers=function(){this._receiverDemux.closeAll()};l.prototype.killReceiver=function(e){this._receiverDemux.kill(e)};l.prototype.killAllReceivers=function(){this._receiverDemux.killAll()};l.prototype.killReceiverConsumer=function(e){this._receiverDemux.killConsumer(e)};l.prototype.getReceiverConsumerStats=function(e){return this._receiverDemux.getConsumerStats(e)};l.prototype.getReceiverConsumerStatsList=function(e){return this._receiverDemux.getConsumerStatsList(e)};l.prototype.getAllReceiversConsumerStatsList=function(){return this._receiverDemux.getConsumerStatsListAll()};l.prototype.getReceiverBackpressure=function(e){return this._receiverDemux.getBackpressure(e)};l.prototype.getAllReceiversBackpressure=function(){return this._receiverDemux.getBackpressureAll()};l.prototype.getReceiverConsumerBackpressure=function(e){return this._receiverDemux.getConsumerBackpressure(e)};l.prototype.hasReceiverConsumer=function(e,t){return this._receiverDemux.hasConsumer(e,t)};l.prototype.hasAnyReceiverConsumer=function(e){return this._receiverDemux.hasConsumerAll(e)};l.prototype.procedure=function(e){return this._procedureDemux.stream(e)};l.prototype.closeProcedure=function(e){this._procedureDemux.close(e)};l.prototype.closeAllProcedures=function(){this._procedureDemux.closeAll()};l.prototype.killProcedure=function(e){this._procedureDemux.kill(e)};l.prototype.killAllProcedures=function(){this._procedureDemux.killAll()};l.prototype.killProcedureConsumer=function(e){this._procedureDemux.killConsumer(e)};l.prototype.getProcedureConsumerStats=function(e){return this._procedureDemux.getConsumerStats(e)};l.prototype.getProcedureConsumerStatsList=function(e){return this._procedureDemux.getConsumerStatsList(e)};l.prototype.getAllProceduresConsumerStatsList=function(){return this._procedureDemux.getConsumerStatsListAll()};l.prototype.getProcedureBackpressure=function(e){return this._procedureDemux.getBackpressure(e)};l.prototype.getAllProceduresBackpressure=function(){return this._procedureDemux.getBackpressureAll()};l.prototype.getProcedureConsumerBackpressure=function(e){return this._procedureDemux.getConsumerBackpressure(e)};l.prototype.hasProcedureConsumer=function(e,t){return this._procedureDemux.hasConsumer(e,t)};l.prototype.hasAnyProcedureConsumer=function(e){return this._procedureDemux.hasConsumerAll(e)};l.prototype.channel=function(e){let t=this._channelMap[e];return new P(e,this,this._channelEventDemux,this._channelDataDemux)};l.prototype.closeChannel=function(e){this.channelCloseOutput(e),this.channelCloseAllListeners(e)};l.prototype.closeAllChannelOutputs=function(){this._channelDataDemux.closeAll()};l.prototype.closeAllChannelListeners=function(){this._channelEventDemux.closeAll()};l.prototype.closeAllChannels=function(){this.closeAllChannelOutputs(),this.closeAllChannelListeners()};l.prototype.killChannel=function(e){this.channelKillOutput(e),this.channelKillAllListeners(e)};l.prototype.killAllChannelOutputs=function(){this._channelDataDemux.killAll()};l.prototype.killAllChannelListeners=function(){this._channelEventDemux.killAll()};l.prototype.killAllChannels=function(){this.killAllChannelOutputs(),this.killAllChannelListeners()};l.prototype.killChannelOutputConsumer=function(e){this._channelDataDemux.killConsumer(e)};l.prototype.killChannelListenerConsumer=function(e){this._channelEventDemux.killConsumer(e)};l.prototype.getChannelOutputConsumerStats=function(e){return this._channelDataDemux.getConsumerStats(e)};l.prototype.getChannelListenerConsumerStats=function(e){return this._channelEventDemux.getConsumerStats(e)};l.prototype.getAllChannelOutputsConsumerStatsList=function(){return this._channelDataDemux.getConsumerStatsListAll()};l.prototype.getAllChannelListenersConsumerStatsList=function(){return this._channelEventDemux.getConsumerStatsListAll()};l.prototype.getChannelBackpressure=function(e){return Math.max(this.channelGetOutputBackpressure(e),this.channelGetAllListenersBackpressure(e))};l.prototype.getAllChannelOutputsBackpressure=function(){return this._channelDataDemux.getBackpressureAll()};l.prototype.getAllChannelListenersBackpressure=function(){return this._channelEventDemux.getBackpressureAll()};l.prototype.getAllChannelsBackpressure=function(){return Math.max(this.getAllChannelOutputsBackpressure(),this.getAllChannelListenersBackpressure())};l.prototype.getChannelListenerConsumerBackpressure=function(e){return this._channelEventDemux.getConsumerBackpressure(e)};l.prototype.getChannelOutputConsumerBackpressure=function(e){return this._channelDataDemux.getConsumerBackpressure(e)};l.prototype.hasAnyChannelOutputConsumer=function(e){return this._channelDataDemux.hasConsumerAll(e)};l.prototype.hasAnyChannelListenerConsumer=function(e){return this._channelEventDemux.hasConsumerAll(e)};l.prototype.getChannelState=function(e){let t=this._channelMap[e];return t?t.state:P.UNSUBSCRIBED};l.prototype.getChannelOptions=function(e){let t=this._channelMap[e];return t?{...t.options}:{}};l.prototype._getAllChannelStreamNames=function(e){let t=this._channelEventDemux.getConsumerStatsListAll().filter(r=>r.stream.indexOf(`${e}/`)===0).reduce((r,n)=>(r[n.stream]=!0,r),{});return Object.keys(t)};l.prototype.channelCloseOutput=function(e){this._channelDataDemux.close(e)};l.prototype.channelCloseListener=function(e,t){this._channelEventDemux.close(`${e}/${t}`)};l.prototype.channelCloseAllListeners=function(e){let t=this._getAllChannelStreamNames(e).forEach(r=>{this._channelEventDemux.close(r)})};l.prototype.channelKillOutput=function(e){this._channelDataDemux.kill(e)};l.prototype.channelKillListener=function(e,t){this._channelEventDemux.kill(`${e}/${t}`)};l.prototype.channelKillAllListeners=function(e){let t=this._getAllChannelStreamNames(e).forEach(r=>{this._channelEventDemux.kill(r)})};l.prototype.channelGetOutputConsumerStatsList=function(e){return this._channelDataDemux.getConsumerStatsList(e)};l.prototype.channelGetListenerConsumerStatsList=function(e,t){return this._channelEventDemux.getConsumerStatsList(`${e}/${t}`)};l.prototype.channelGetAllListenersConsumerStatsList=function(e){return this._getAllChannelStreamNames(e).map(t=>this._channelEventDemux.getConsumerStatsList(t)).reduce((t,r)=>(r.forEach(n=>{t.push(n)}),t),[])};l.prototype.channelGetOutputBackpressure=function(e){return this._channelDataDemux.getBackpressure(e)};l.prototype.channelGetListenerBackpressure=function(e,t){return this._channelEventDemux.getBackpressure(`${e}/${t}`)};l.prototype.channelGetAllListenersBackpressure=function(e){let t=this._getAllChannelStreamNames(e).map(r=>this._channelEventDemux.getBackpressure(r));return Math.max(...t.concat(0))};l.prototype.channelHasOutputConsumer=function(e,t){return this._channelDataDemux.hasConsumer(e,t)};l.prototype.channelHasListenerConsumer=function(e,t,r){return this._channelEventDemux.hasConsumer(`${e}/${t}`,r)};l.prototype.channelHasAnyListenerConsumer=function(e,t){return this._getAllChannelStreamNames(e).some(r=>this._channelEventDemux.hasConsumer(r,t))};l.prototype.subscriptions=function(e){let t=[];return Object.keys(this._channelMap).forEach(r=>{(e||this._channelMap[r].state===P.SUBSCRIBED)&&t.push(r)}),t};l.prototype.isSubscribed=function(e,t){let r=this._channelMap[e];return t?!!r:!!r&&r.state===P.SUBSCRIBED};l.prototype.processPendingSubscriptions=function(){this.preparingPendingSubscriptions=!1;let e=[];Object.keys(this._channelMap).forEach(t=>{let r=this._channelMap[t];r.state===P.PENDING&&e.push(r)}),e.sort((t,r)=>{let n=t.options.priority||0,i=r.options.priority||0;return n>i?-1:n<i?1:0}),e.forEach(t=>{this._trySubscribe(t)})};No.exports=l});function We(){if(!Tt&&(Tt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Tt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Tt(im)}var Tt,im,Lr=M(()=>{im=new Uint8Array(16)});var Po,Bo=M(()=>{Po=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function om(e){return typeof e=="string"&&Po.test(e)}var Q,Ve=M(()=>{Bo();Q=om});function sm(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(D[e[t+0]]+D[e[t+1]]+D[e[t+2]]+D[e[t+3]]+"-"+D[e[t+4]]+D[e[t+5]]+"-"+D[e[t+6]]+D[e[t+7]]+"-"+D[e[t+8]]+D[e[t+9]]+"-"+D[e[t+10]]+D[e[t+11]]+D[e[t+12]]+D[e[t+13]]+D[e[t+14]]+D[e[t+15]]).toLowerCase();if(!Q(r))throw TypeError("Stringified UUID is invalid");return r}var D,vt,Z,ze=M(()=>{Ve();D=[];for(vt=0;vt<256;++vt)D.push((vt+256).toString(16).substr(1));Z=sm});function am(e,t,r){var n=t&&r||0,i=t||new Array(16);e=e||{};var o=e.node||Lo,s=e.clockseq!==void 0?e.clockseq:Rr;if(o==null||s==null){var a=e.random||(e.rng||We)();o==null&&(o=Lo=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),s==null&&(s=Rr=(a[6]<<8|a[7])&16383)}var c=e.msecs!==void 0?e.msecs:Date.now(),f=e.nsecs!==void 0?e.nsecs:Mr+1,d=c-qr+(f-Mr)/1e4;if(d<0&&e.clockseq===void 0&&(s=s+1&16383),(d<0||c>qr)&&e.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");qr=c,Mr=f,Rr=s,c+=122192928e5;var h=((c&268435455)*1e4+f)%4294967296;i[n++]=h>>>24&255,i[n++]=h>>>16&255,i[n++]=h>>>8&255,i[n++]=h&255;var y=c/4294967296*1e4&268435455;i[n++]=y>>>8&255,i[n++]=y&255,i[n++]=y>>>24&15|16,i[n++]=y>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(var g=0;g<6;++g)i[n+g]=o[g];return t||Z(i)}var Lo,Rr,qr,Mr,Ro,qo=M(()=>{Lr();ze();qr=0,Mr=0;Ro=am});function um(e){if(!Q(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var wt,Ur=M(()=>{Ve();wt=um});function cm(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function _t(e,t,r){function n(i,o,s,a){if(typeof i=="string"&&(i=cm(i)),typeof o=="string"&&(o=wt(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(o),c.set(i,o.length),c=r(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,s){a=a||0;for(var f=0;f<16;++f)s[a+f]=c[f];return s}return Z(c)}try{n.name=e}catch{}return n.DNS=lm,n.URL=fm,n}var lm,fm,Fr=M(()=>{ze();Ur();lm="6ba7b810-9dad-11d1-80b4-00c04fd430c8",fm="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function pm(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return hm(dm(mm(e),e.length*8))}function hm(e){for(var t=[],r=e.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var o=e[i>>5]>>>i%32&255,s=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);t.push(s)}return t}function Mo(e){return(e+64>>>9<<4)+14+1}function dm(e,t){e[t>>5]|=128<<t%32,e[Mo(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=r,c=n,f=i,d=o;r=B(r,n,i,o,e[s],7,-680876936),o=B(o,r,n,i,e[s+1],12,-389564586),i=B(i,o,r,n,e[s+2],17,606105819),n=B(n,i,o,r,e[s+3],22,-1044525330),r=B(r,n,i,o,e[s+4],7,-176418897),o=B(o,r,n,i,e[s+5],12,1200080426),i=B(i,o,r,n,e[s+6],17,-1473231341),n=B(n,i,o,r,e[s+7],22,-45705983),r=B(r,n,i,o,e[s+8],7,1770035416),o=B(o,r,n,i,e[s+9],12,-1958414417),i=B(i,o,r,n,e[s+10],17,-42063),n=B(n,i,o,r,e[s+11],22,-1990404162),r=B(r,n,i,o,e[s+12],7,1804603682),o=B(o,r,n,i,e[s+13],12,-40341101),i=B(i,o,r,n,e[s+14],17,-1502002290),n=B(n,i,o,r,e[s+15],22,1236535329),r=L(r,n,i,o,e[s+1],5,-165796510),o=L(o,r,n,i,e[s+6],9,-1069501632),i=L(i,o,r,n,e[s+11],14,643717713),n=L(n,i,o,r,e[s],20,-373897302),r=L(r,n,i,o,e[s+5],5,-701558691),o=L(o,r,n,i,e[s+10],9,38016083),i=L(i,o,r,n,e[s+15],14,-660478335),n=L(n,i,o,r,e[s+4],20,-405537848),r=L(r,n,i,o,e[s+9],5,568446438),o=L(o,r,n,i,e[s+14],9,-1019803690),i=L(i,o,r,n,e[s+3],14,-187363961),n=L(n,i,o,r,e[s+8],20,1163531501),r=L(r,n,i,o,e[s+13],5,-1444681467),o=L(o,r,n,i,e[s+2],9,-51403784),i=L(i,o,r,n,e[s+7],14,1735328473),n=L(n,i,o,r,e[s+12],20,-1926607734),r=R(r,n,i,o,e[s+5],4,-378558),o=R(o,r,n,i,e[s+8],11,-2022574463),i=R(i,o,r,n,e[s+11],16,1839030562),n=R(n,i,o,r,e[s+14],23,-35309556),r=R(r,n,i,o,e[s+1],4,-1530992060),o=R(o,r,n,i,e[s+4],11,1272893353),i=R(i,o,r,n,e[s+7],16,-155497632),n=R(n,i,o,r,e[s+10],23,-1094730640),r=R(r,n,i,o,e[s+13],4,681279174),o=R(o,r,n,i,e[s],11,-358537222),i=R(i,o,r,n,e[s+3],16,-722521979),n=R(n,i,o,r,e[s+6],23,76029189),r=R(r,n,i,o,e[s+9],4,-640364487),o=R(o,r,n,i,e[s+12],11,-421815835),i=R(i,o,r,n,e[s+15],16,530742520),n=R(n,i,o,r,e[s+2],23,-995338651),r=q(r,n,i,o,e[s],6,-198630844),o=q(o,r,n,i,e[s+7],10,1126891415),i=q(i,o,r,n,e[s+14],15,-1416354905),n=q(n,i,o,r,e[s+5],21,-57434055),r=q(r,n,i,o,e[s+12],6,1700485571),o=q(o,r,n,i,e[s+3],10,-1894986606),i=q(i,o,r,n,e[s+10],15,-1051523),n=q(n,i,o,r,e[s+1],21,-2054922799),r=q(r,n,i,o,e[s+8],6,1873313359),o=q(o,r,n,i,e[s+15],10,-30611744),i=q(i,o,r,n,e[s+6],15,-1560198380),n=q(n,i,o,r,e[s+13],21,1309151649),r=q(r,n,i,o,e[s+4],6,-145523070),o=q(o,r,n,i,e[s+11],10,-1120210379),i=q(i,o,r,n,e[s+2],15,718787259),n=q(n,i,o,r,e[s+9],21,-343485551),r=ee(r,a),n=ee(n,c),i=ee(i,f),o=ee(o,d)}return[r,n,i,o]}function mm(e){if(e.length===0)return[];for(var t=e.length*8,r=new Uint32Array(Mo(t)),n=0;n<t;n+=8)r[n>>5]|=(e[n/8]&255)<<n%32;return r}function ee(e,t){var r=(e&65535)+(t&65535),n=(e>>16)+(t>>16)+(r>>16);return n<<16|r&65535}function ym(e,t){return e<<t|e>>>32-t}function Ct(e,t,r,n,i,o){return ee(ym(ee(ee(t,e),ee(n,o)),i),r)}function B(e,t,r,n,i,o,s){return Ct(t&r|~t&n,e,t,i,o,s)}function L(e,t,r,n,i,o,s){return Ct(t&n|r&~n,e,t,i,o,s)}function R(e,t,r,n,i,o,s){return Ct(t^r^n,e,t,i,o,s)}function q(e,t,r,n,i,o,s){return Ct(r^(t|~n),e,t,i,o,s)}var Uo,Fo=M(()=>{Uo=pm});var gm,jo,Go=M(()=>{Fr();Fo();gm=_t("v3",48,Uo),jo=gm});function Em(e,t,r){e=e||{};var n=e.random||(e.rng||We)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return Z(n)}var Ho,$o=M(()=>{Lr();ze();Ho=Em});function Sm(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function jr(e,t){return e<<t|e>>>32-t}function Am(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s),c=0;c<s;++c){for(var f=new Uint32Array(16),d=0;d<16;++d)f[d]=e[c*64+d*4]<<24|e[c*64+d*4+1]<<16|e[c*64+d*4+2]<<8|e[c*64+d*4+3];a[c]=f}a[s-1][14]=(e.length-1)*8/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=(e.length-1)*8&4294967295;for(var h=0;h<s;++h){for(var y=new Uint32Array(80),g=0;g<16;++g)y[g]=a[h][g];for(var m=16;m<80;++m)y[m]=jr(y[m-3]^y[m-8]^y[m-14]^y[m-16],1);for(var E=r[0],A=r[1],S=r[2],x=r[3],O=r[4],N=0;N<80;++N){var j=Math.floor(N/20),th=jr(E,5)+Sm(j,A,S,x)+O+t[j]+y[N]>>>0;O=x,x=S,S=jr(A,30)>>>0,A=E,E=th}r[0]=r[0]+E>>>0,r[1]=r[1]+A>>>0,r[2]=r[2]+S>>>0,r[3]=r[3]+x>>>0,r[4]=r[4]+O>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var Ko,Wo=M(()=>{Ko=Am});var bm,Vo,zo=M(()=>{Fr();Wo();bm=_t("v5",80,Ko),Vo=bm});var Jo,Yo=M(()=>{Jo="00000000-0000-0000-0000-000000000000"});function xm(e){if(!Q(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var Xo,Qo=M(()=>{Ve();Xo=xm});var Zo={};ah(Zo,{NIL:()=>Jo,parse:()=>wt,stringify:()=>Z,v1:()=>Ro,v3:()=>jo,v4:()=>Ho,v5:()=>Vo,validate:()=>Q,version:()=>Xo});var es=M(()=>{qo();Go();$o();zo();Yo();Qo();Ve();ze();Ur()});var rs=u((zC,ts)=>{var Tm=Br(),vm=(es(),uh(Zo)),wm=je(),Gr=wm.InvalidArgumentsError;function _m(){return typeof location<"u"&&location.protocol==="https:"}function Cm(e,t){let r=e.secure==null?t:e.secure;return e.port||(typeof location<"u"&&location.port?location.port:r?443:80)}function Im(e){if(e=e||{},e.host&&!e.host.match(/[^:]+:\d{2,5}/))throw new Gr("The host option should include both the hostname and the port number in the hostname:port format");if(e.host&&e.hostname)throw new Gr("The host option should already include the hostname and the port number in the hostname:port format - Because of this, you should never use host and hostname options together");if(e.host&&e.port)throw new Gr("The host option should already include the hostname and the port number in the hostname:port format - Because of this, you should never use host and port options together");let t=_m(),r={clientId:vm.v4(),port:Cm(e,t),hostname:typeof location<"u"&&location.hostname||"localhost",secure:t};return Object.assign(r,e),new Tm(r)}ts.exports={create:Im}});var os=u((JC,Je)=>{var Om=Br(),ns=rs(),is="17.2.1";Je.exports.factory=ns;Je.exports.AGClientSocket=Om;Je.exports.create=function(e){return ns.create({...e,version:is})};Je.exports.version=is});var Hr=u((YC,ss)=>{ss.exports=km;function km(e,t){if(t!=="$")for(var r=Dm(t),n=0;n<r.length;n++)t=r[n].toString().replace(/\\"/g,'"'),!(typeof e[t]>"u"&&n!==r.length-1)&&(e=e[t]);return e}function Dm(e){for(var t=/(?:\.(\w+))|(?:\[(\d+)\])|(?:\["((?:[^\\"]|\\.)*)"\])/g,r=[],n;n=t.exec(e);)r.push(n[1]||n[2]||n[3]);return r}});var us=u(It=>{var Nm=Hr(),as=$r();It.getRegexFlags=function(t){var r="";return t.ignoreCase&&(r+="i"),t.global&&(r+="g"),t.multiline&&(r+="m"),r};It.stringifyFunction=function(t,r){if(typeof r=="function")return r(t);var n=t.toString(),i=n.match(/^[^{]*{|^[^=]*=>/),o=i?i[0]:"<function> ",s=n[n.length-1]==="}"?"}":"";return o.replace(/\r\n|\n/g," ").replace(/\s+/g," ")+" /* ... */ "+s};It.restore=function(t,r){var n=t[0],i=t.slice(1);switch(n){case"$":return Nm(r,t);case"r":var o=i.indexOf(","),s=i.slice(0,o),a=i.slice(o+1);return RegExp(a,s);case"d":return new Date(+i);case"f":var c=function(){throw new Error("can't run jsan parsed function")};return c.toString=function(){return i},c;case"u":return;case"e":var f=new Error(i);return f.stack="Stack is unavailable for jsan parsed errors",f;case"s":return Symbol(i);case"g":return Symbol.for(i);case"m":return new Map(as.parse(i));case"l":return new Set(as.parse(i));case"n":return NaN;case"i":return 1/0;case"y":return-1/0;default:return console.warn("unknown type",t),t}}});var cs=u(Kr=>{var QC=Hr(),Ye=us(),Pm=typeof WeakMap<"u"?WeakMap:function(){var e=[],t=[];return{set:function(r,n){e.push(r),t.push(n)},get:function(r){for(var n=0;n<e.length;n++)if(e[n]===r)return t[n]}}};Kr.decycle=function e(t,r,n,i){"use strict";i=i||new Pm;var o=!Object.prototype.hasOwnProperty.call(r,"circular"),s=r.refs!==!1;return function a(c,f,d){var h,y,g,m=typeof n=="function"?n(d||"",c):c;if(r.date&&m instanceof Date)return{$jsan:"d"+m.getTime()};if(r.regex&&m instanceof RegExp)return{$jsan:"r"+Ye.getRegexFlags(m)+","+m.source};if(r.function&&typeof m=="function")return{$jsan:"f"+Ye.stringifyFunction(m,r.function)};if(r.nan&&typeof m=="number"&&isNaN(m))return{$jsan:"n"};if(r.infinity){if(Number.POSITIVE_INFINITY===m)return{$jsan:"i"};if(Number.NEGATIVE_INFINITY===m)return{$jsan:"y"}}if(r.undefined&&m===void 0)return{$jsan:"u"};if(r.error&&m instanceof Error)return{$jsan:"e"+m.message};if(r.symbol&&typeof m=="symbol"){var E=Symbol.keyFor(m);return E!==void 0?{$jsan:"g"+E}:{$jsan:"s"+m.toString().slice(7,-1)}}if(r.map&&typeof Map=="function"&&m instanceof Map&&typeof Array.from=="function")return{$jsan:"m"+JSON.stringify(e(Array.from(m),r,n,i))};if(r.set&&typeof Set=="function"&&m instanceof Set&&typeof Array.from=="function")return{$jsan:"l"+JSON.stringify(e(Array.from(m),r,n,i))};if(m&&typeof m.toJSON=="function")try{m=m.toJSON(d)}catch{var A=d||"$";return"toJSON failed for '"+(i.get(m)||A)+"'"}if(typeof m=="object"&&m!==null&&!(m instanceof Boolean)&&!(m instanceof Date)&&!(m instanceof Number)&&!(m instanceof RegExp)&&!(m instanceof String)&&typeof m!="symbol"&&!(m instanceof Error)){if(typeof m=="object"){var S=i.get(m);if(S){if(o&&s)return{$jsan:S};var x=f.split(".").slice(0,-1).join(".");if(x.indexOf(S)===0)return o?{$jsan:S}:typeof r.circular=="function"?r.circular(m,f,S):r.circular;if(s)return{$jsan:S}}i.set(m,f)}if(Object.prototype.toString.apply(m)==="[object Array]")for(g=[],h=0;h<m.length;h+=1)g[h]=a(m[h],f+"["+h+"]",h);else{g={};for(y in m)if(Object.prototype.hasOwnProperty.call(m,y)){var O=/^\w+$/.test(y)?"."+y:"["+JSON.stringify(y)+"]";g[y]=y==="$jsan"?[a(m[y],f+O)]:a(m[y],f+O,y)}}return g}return m}(t,"$")};Kr.retrocycle=function(t){"use strict";return function r(n){var i,o,s,a;if(n&&typeof n=="object")if(Object.prototype.toString.apply(n)==="[object Array]")for(i=0;i<n.length;i+=1)o=n[i],o&&typeof o=="object"&&(o.$jsan?n[i]=Ye.restore(o.$jsan,t):r(o));else for(s in n){if(typeof n[s]=="string"&&s==="$jsan")return Ye.restore(n.$jsan,t);s==="$jsan"&&(n[s]=n[s][0]),typeof n[s]=="object"&&(o=n[s],o&&typeof o=="object"&&(o.$jsan?n[s]=Ye.restore(o.$jsan,t):r(o)))}return n}(t)}});var $r=u(Wr=>{var ls=cs();Wr.stringify=function(t,r,n,i){if(arguments.length<4)try{return arguments.length===1?JSON.stringify(t):JSON.stringify.apply(JSON,arguments)}catch{}var o=i||!1;typeof o=="boolean"&&(o={date:o,function:o,regex:o,undefined:o,error:o,symbol:o,map:o,set:o,nan:o,infinity:o});var s=ls.decycle(t,o,r);return arguments.length===1?JSON.stringify(s):JSON.stringify(s,Array.isArray(r)?r:null,n)};Wr.parse=function(t,r){var n=/"\$jsan"/.test(t),i;return arguments.length===1?i=JSON.parse(t):i=JSON.parse(t,r),n&&(i=ls.retrocycle(i)),i}});var Vr=u((tI,fs)=>{fs.exports=$r()});var Jr=u((bI,Es)=>{var Fm=typeof global=="object"&&global&&global.Object===Object&&global;Es.exports=Fm});var G=u((xI,Ss)=>{var jm=Jr(),Gm=typeof self=="object"&&self&&self.Object===Object&&self,Hm=jm||Gm||Function("return this")();Ss.exports=Hm});var le=u((TI,As)=>{var $m=G(),Km=$m.Symbol;As.exports=Km});var vs=u((vI,Ts)=>{var bs=le(),xs=Object.prototype,Wm=xs.hasOwnProperty,Vm=xs.toString,tt=bs?bs.toStringTag:void 0;function zm(e){var t=Wm.call(e,tt),r=e[tt];try{e[tt]=void 0;var n=!0}catch{}var i=Vm.call(e);return n&&(t?e[tt]=r:delete e[tt]),i}Ts.exports=zm});var _s=u((wI,ws)=>{var Jm=Object.prototype,Ym=Jm.toString;function Xm(e){return Ym.call(e)}ws.exports=Xm});var fe=u((_I,Os)=>{var Cs=le(),Qm=vs(),Zm=_s(),ey="[object Null]",ty="[object Undefined]",Is=Cs?Cs.toStringTag:void 0;function ry(e){return e==null?e===void 0?ty:ey:Is&&Is in Object(e)?Qm(e):Zm(e)}Os.exports=ry});var pe=u((CI,ks)=>{function ny(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}ks.exports=ny});var Yr=u((II,Ds)=>{var iy=fe(),oy=pe(),sy="[object AsyncFunction]",ay="[object Function]",uy="[object GeneratorFunction]",cy="[object Proxy]";function ly(e){if(!oy(e))return!1;var t=iy(e);return t==ay||t==uy||t==sy||t==cy}Ds.exports=ly});var Ps=u((OI,Ns)=>{var fy=G(),py=fy["__core-js_shared__"];Ns.exports=py});var Rs=u((kI,Ls)=>{var Xr=Ps(),Bs=function(){var e=/[^.]+$/.exec(Xr&&Xr.keys&&Xr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function hy(e){return!!Bs&&Bs in e}Ls.exports=hy});var Qr=u((DI,qs)=>{var dy=Function.prototype,my=dy.toString;function yy(e){if(e!=null){try{return my.call(e)}catch{}try{return e+""}catch{}}return""}qs.exports=yy});var Us=u((NI,Ms)=>{var gy=Yr(),Ey=Rs(),Sy=pe(),Ay=Qr(),by=/[\\^$.*+?()[\]{}|]/g,xy=/^\[object .+?Constructor\]$/,Ty=Function.prototype,vy=Object.prototype,wy=Ty.toString,_y=vy.hasOwnProperty,Cy=RegExp("^"+wy.call(_y).replace(by,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Iy(e){if(!Sy(e)||Ey(e))return!1;var t=gy(e)?Cy:xy;return t.test(Ay(e))}Ms.exports=Iy});var js=u((PI,Fs)=>{function Oy(e,t){return e?.[t]}Fs.exports=Oy});var te=u((BI,Gs)=>{var ky=Us(),Dy=js();function Ny(e,t){var r=Dy(e,t);return ky(r)?r:void 0}Gs.exports=Ny});var rt=u((LI,Hs)=>{var Py=te(),By=Py(Object,"create");Hs.exports=By});var Ws=u((RI,Ks)=>{var $s=rt();function Ly(){this.__data__=$s?$s(null):{},this.size=0}Ks.exports=Ly});var zs=u((qI,Vs)=>{function Ry(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}Vs.exports=Ry});var Ys=u((MI,Js)=>{var qy=rt(),My="__lodash_hash_undefined__",Uy=Object.prototype,Fy=Uy.hasOwnProperty;function jy(e){var t=this.__data__;if(qy){var r=t[e];return r===My?void 0:r}return Fy.call(t,e)?t[e]:void 0}Js.exports=jy});var Qs=u((UI,Xs)=>{var Gy=rt(),Hy=Object.prototype,$y=Hy.hasOwnProperty;function Ky(e){var t=this.__data__;return Gy?t[e]!==void 0:$y.call(t,e)}Xs.exports=Ky});var ea=u((FI,Zs)=>{var Wy=rt(),Vy="__lodash_hash_undefined__";function zy(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Wy&&t===void 0?Vy:t,this}Zs.exports=zy});var ra=u((jI,ta)=>{var Jy=Ws(),Yy=zs(),Xy=Ys(),Qy=Qs(),Zy=ea();function xe(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}xe.prototype.clear=Jy;xe.prototype.delete=Yy;xe.prototype.get=Xy;xe.prototype.has=Qy;xe.prototype.set=Zy;ta.exports=xe});var ia=u((GI,na)=>{function eg(){this.__data__=[],this.size=0}na.exports=eg});var Pt=u((HI,oa)=>{function tg(e,t){return e===t||e!==e&&t!==t}oa.exports=tg});var nt=u(($I,sa)=>{var rg=Pt();function ng(e,t){for(var r=e.length;r--;)if(rg(e[r][0],t))return r;return-1}sa.exports=ng});var ua=u((KI,aa)=>{var ig=nt(),og=Array.prototype,sg=og.splice;function ag(e){var t=this.__data__,r=ig(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():sg.call(t,r,1),--this.size,!0}aa.exports=ag});var la=u((WI,ca)=>{var ug=nt();function cg(e){var t=this.__data__,r=ug(t,e);return r<0?void 0:t[r][1]}ca.exports=cg});var pa=u((VI,fa)=>{var lg=nt();function fg(e){return lg(this.__data__,e)>-1}fa.exports=fg});var da=u((zI,ha)=>{var pg=nt();function hg(e,t){var r=this.__data__,n=pg(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}ha.exports=hg});var it=u((JI,ma)=>{var dg=ia(),mg=ua(),yg=la(),gg=pa(),Eg=da();function Te(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Te.prototype.clear=dg;Te.prototype.delete=mg;Te.prototype.get=yg;Te.prototype.has=gg;Te.prototype.set=Eg;ma.exports=Te});var Bt=u((YI,ya)=>{var Sg=te(),Ag=G(),bg=Sg(Ag,"Map");ya.exports=bg});var Sa=u((XI,Ea)=>{var ga=ra(),xg=it(),Tg=Bt();function vg(){this.size=0,this.__data__={hash:new ga,map:new(Tg||xg),string:new ga}}Ea.exports=vg});var ba=u((QI,Aa)=>{function wg(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}Aa.exports=wg});var ot=u((ZI,xa)=>{var _g=ba();function Cg(e,t){var r=e.__data__;return _g(t)?r[typeof t=="string"?"string":"hash"]:r.map}xa.exports=Cg});var va=u((e1,Ta)=>{var Ig=ot();function Og(e){var t=Ig(this,e).delete(e);return this.size-=t?1:0,t}Ta.exports=Og});var _a=u((t1,wa)=>{var kg=ot();function Dg(e){return kg(this,e).get(e)}wa.exports=Dg});var Ia=u((r1,Ca)=>{var Ng=ot();function Pg(e){return Ng(this,e).has(e)}Ca.exports=Pg});var ka=u((n1,Oa)=>{var Bg=ot();function Lg(e,t){var r=Bg(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}Oa.exports=Lg});var Lt=u((i1,Da)=>{var Rg=Sa(),qg=va(),Mg=_a(),Ug=Ia(),Fg=ka();function ve(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ve.prototype.clear=Rg;ve.prototype.delete=qg;ve.prototype.get=Mg;ve.prototype.has=Ug;ve.prototype.set=Fg;Da.exports=ve});var Pa=u((o1,Na)=>{var jg="__lodash_hash_undefined__";function Gg(e){return this.__data__.set(e,jg),this}Na.exports=Gg});var La=u((s1,Ba)=>{function Hg(e){return this.__data__.has(e)}Ba.exports=Hg});var Zr=u((a1,Ra)=>{var $g=Lt(),Kg=Pa(),Wg=La();function Rt(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new $g;++t<r;)this.add(e[t])}Rt.prototype.add=Rt.prototype.push=Kg;Rt.prototype.has=Wg;Ra.exports=Rt});var Ma=u((u1,qa)=>{function Vg(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}qa.exports=Vg});var Fa=u((c1,Ua)=>{function zg(e){return e!==e}Ua.exports=zg});var Ga=u((l1,ja)=>{function Jg(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}ja.exports=Jg});var $a=u((f1,Ha)=>{var Yg=Ma(),Xg=Fa(),Qg=Ga();function Zg(e,t,r){return t===t?Qg(e,t,r):Yg(e,Xg,r)}Ha.exports=Zg});var Wa=u((p1,Ka)=>{var e0=$a();function t0(e,t){var r=e==null?0:e.length;return!!r&&e0(e,t,0)>-1}Ka.exports=t0});var za=u((h1,Va)=>{function r0(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}Va.exports=r0});var qt=u((d1,Ja)=>{function n0(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}Ja.exports=n0});var st=u((m1,Ya)=>{function i0(e){return function(t){return e(t)}}Ya.exports=i0});var en=u((y1,Xa)=>{function o0(e,t){return e.has(t)}Xa.exports=o0});var Za=u((g1,Qa)=>{var s0=Zr(),a0=Wa(),u0=za(),c0=qt(),l0=st(),f0=en(),p0=200;function h0(e,t,r,n){var i=-1,o=a0,s=!0,a=e.length,c=[],f=t.length;if(!a)return c;r&&(t=c0(t,l0(r))),n?(o=u0,s=!1):t.length>=p0&&(o=f0,s=!1,t=new s0(t));e:for(;++i<a;){var d=e[i],h=r==null?d:r(d);if(d=n||d!==0?d:0,s&&h===h){for(var y=f;y--;)if(t[y]===h)continue e;c.push(d)}else o(t,h,n)||c.push(d)}return c}Qa.exports=h0});var Mt=u((E1,eu)=>{function d0(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}eu.exports=d0});var W=u((S1,tu)=>{function m0(e){return e!=null&&typeof e=="object"}tu.exports=m0});var nu=u((A1,ru)=>{var y0=fe(),g0=W(),E0="[object Arguments]";function S0(e){return g0(e)&&y0(e)==E0}ru.exports=S0});var Ut=u((b1,su)=>{var iu=nu(),A0=W(),ou=Object.prototype,b0=ou.hasOwnProperty,x0=ou.propertyIsEnumerable,T0=iu(function(){return arguments}())?iu:function(e){return A0(e)&&b0.call(e,"callee")&&!x0.call(e,"callee")};su.exports=T0});var H=u((x1,au)=>{var v0=Array.isArray;au.exports=v0});var fu=u((T1,lu)=>{var uu=le(),w0=Ut(),_0=H(),cu=uu?uu.isConcatSpreadable:void 0;function C0(e){return _0(e)||w0(e)||!!(cu&&e&&e[cu])}lu.exports=C0});var tn=u((v1,hu)=>{var I0=Mt(),O0=fu();function pu(e,t,r,n,i){var o=-1,s=e.length;for(r||(r=O0),i||(i=[]);++o<s;){var a=e[o];t>0&&r(a)?t>1?pu(a,t-1,r,n,i):I0(i,a):n||(i[i.length]=a)}return i}hu.exports=pu});var Ft=u((w1,du)=>{function k0(e){return e}du.exports=k0});var yu=u((_1,mu)=>{function D0(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}mu.exports=D0});var rn=u((C1,Eu)=>{var N0=yu(),gu=Math.max;function P0(e,t,r){return t=gu(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=gu(n.length-t,0),s=Array(o);++i<o;)s[i]=n[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=n[i];return a[t]=r(s),N0(e,this,a)}}Eu.exports=P0});var Au=u((I1,Su)=>{function B0(e){return function(){return e}}Su.exports=B0});var nn=u((O1,bu)=>{var L0=te(),R0=function(){try{var e=L0(Object,"defineProperty");return e({},"",{}),e}catch{}}();bu.exports=R0});var vu=u((k1,Tu)=>{var q0=Au(),xu=nn(),M0=Ft(),U0=xu?function(e,t){return xu(e,"toString",{configurable:!0,enumerable:!1,value:q0(t),writable:!0})}:M0;Tu.exports=U0});var _u=u((D1,wu)=>{var F0=800,j0=16,G0=Date.now;function H0(e){var t=0,r=0;return function(){var n=G0(),i=j0-(n-r);if(r=n,i>0){if(++t>=F0)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}wu.exports=H0});var on=u((N1,Cu)=>{var $0=vu(),K0=_u(),W0=K0($0);Cu.exports=W0});var Ou=u((P1,Iu)=>{var V0=Ft(),z0=rn(),J0=on();function Y0(e,t){return J0(z0(e,t,V0),e+"")}Iu.exports=Y0});var jt=u((B1,ku)=>{var X0=9007199254740991;function Q0(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=X0}ku.exports=Q0});var Gt=u((L1,Du)=>{var Z0=Yr(),eE=jt();function tE(e){return e!=null&&eE(e.length)&&!Z0(e)}Du.exports=tE});var Pu=u((R1,Nu)=>{var rE=Gt(),nE=W();function iE(e){return nE(e)&&rE(e)}Nu.exports=iE});var Ru=u((q1,Lu)=>{var oE=Za(),sE=tn(),aE=Ou(),Bu=Pu(),uE=aE(function(e,t){return Bu(e)?oE(e,sE(t,1,Bu,!0)):[]});Lu.exports=uE});var Mu=u((M1,qu)=>{var cE=it();function lE(){this.__data__=new cE,this.size=0}qu.exports=lE});var Fu=u((U1,Uu)=>{function fE(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}Uu.exports=fE});var Gu=u((F1,ju)=>{function pE(e){return this.__data__.get(e)}ju.exports=pE});var $u=u((j1,Hu)=>{function hE(e){return this.__data__.has(e)}Hu.exports=hE});var Wu=u((G1,Ku)=>{var dE=it(),mE=Bt(),yE=Lt(),gE=200;function EE(e,t){var r=this.__data__;if(r instanceof dE){var n=r.__data__;if(!mE||n.length<gE-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new yE(n)}return r.set(e,t),this.size=r.size,this}Ku.exports=EE});var Ht=u((H1,Vu)=>{var SE=it(),AE=Mu(),bE=Fu(),xE=Gu(),TE=$u(),vE=Wu();function we(e){var t=this.__data__=new SE(e);this.size=t.size}we.prototype.clear=AE;we.prototype.delete=bE;we.prototype.get=xE;we.prototype.has=TE;we.prototype.set=vE;Vu.exports=we});var Ju=u(($1,zu)=>{function wE(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}zu.exports=wE});var $t=u((K1,Xu)=>{var Yu=nn();function _E(e,t,r){t=="__proto__"&&Yu?Yu(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}Xu.exports=_E});var sn=u((W1,Qu)=>{var CE=$t(),IE=Pt(),OE=Object.prototype,kE=OE.hasOwnProperty;function DE(e,t,r){var n=e[t];(!(kE.call(e,t)&&IE(n,r))||r===void 0&&!(t in e))&&CE(e,t,r)}Qu.exports=DE});var _e=u((V1,Zu)=>{var NE=sn(),PE=$t();function BE(e,t,r,n){var i=!r;r||(r={});for(var o=-1,s=t.length;++o<s;){var a=t[o],c=n?n(r[a],e[a],a,r,e):void 0;c===void 0&&(c=e[a]),i?PE(r,a,c):NE(r,a,c)}return r}Zu.exports=BE});var tc=u((z1,ec)=>{function LE(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}ec.exports=LE});var nc=u((J1,rc)=>{function RE(){return!1}rc.exports=RE});var Kt=u((at,Ce)=>{var qE=G(),ME=nc(),sc=typeof at=="object"&&at&&!at.nodeType&&at,ic=sc&&typeof Ce=="object"&&Ce&&!Ce.nodeType&&Ce,UE=ic&&ic.exports===sc,oc=UE?qE.Buffer:void 0,FE=oc?oc.isBuffer:void 0,jE=FE||ME;Ce.exports=jE});var an=u((Y1,ac)=>{var GE=9007199254740991,HE=/^(?:0|[1-9]\d*)$/;function $E(e,t){var r=typeof e;return t=t??GE,!!t&&(r=="number"||r!="symbol"&&HE.test(e))&&e>-1&&e%1==0&&e<t}ac.exports=$E});var cc=u((X1,uc)=>{var KE=fe(),WE=jt(),VE=W(),zE="[object Arguments]",JE="[object Array]",YE="[object Boolean]",XE="[object Date]",QE="[object Error]",ZE="[object Function]",eS="[object Map]",tS="[object Number]",rS="[object Object]",nS="[object RegExp]",iS="[object Set]",oS="[object String]",sS="[object WeakMap]",aS="[object ArrayBuffer]",uS="[object DataView]",cS="[object Float32Array]",lS="[object Float64Array]",fS="[object Int8Array]",pS="[object Int16Array]",hS="[object Int32Array]",dS="[object Uint8Array]",mS="[object Uint8ClampedArray]",yS="[object Uint16Array]",gS="[object Uint32Array]",v={};v[cS]=v[lS]=v[fS]=v[pS]=v[hS]=v[dS]=v[mS]=v[yS]=v[gS]=!0;v[zE]=v[JE]=v[aS]=v[YE]=v[uS]=v[XE]=v[QE]=v[ZE]=v[eS]=v[tS]=v[rS]=v[nS]=v[iS]=v[oS]=v[sS]=!1;function ES(e){return VE(e)&&WE(e.length)&&!!v[KE(e)]}uc.exports=ES});var Wt=u((ut,Ie)=>{var SS=Jr(),lc=typeof ut=="object"&&ut&&!ut.nodeType&&ut,ct=lc&&typeof Ie=="object"&&Ie&&!Ie.nodeType&&Ie,AS=ct&&ct.exports===lc,un=AS&&SS.process,bS=function(){try{var e=ct&&ct.require&&ct.require("util").types;return e||un&&un.binding&&un.binding("util")}catch{}}();Ie.exports=bS});var cn=u((Q1,hc)=>{var xS=cc(),TS=st(),fc=Wt(),pc=fc&&fc.isTypedArray,vS=pc?TS(pc):xS;hc.exports=vS});var ln=u((Z1,dc)=>{var wS=tc(),_S=Ut(),CS=H(),IS=Kt(),OS=an(),kS=cn(),DS=Object.prototype,NS=DS.hasOwnProperty;function PS(e,t){var r=CS(e),n=!r&&_S(e),i=!r&&!n&&IS(e),o=!r&&!n&&!i&&kS(e),s=r||n||i||o,a=s?wS(e.length,String):[],c=a.length;for(var f in e)(t||NS.call(e,f))&&!(s&&(f=="length"||i&&(f=="offset"||f=="parent")||o&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||OS(f,c)))&&a.push(f);return a}dc.exports=PS});var Vt=u((eO,mc)=>{var BS=Object.prototype;function LS(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||BS;return e===r}mc.exports=LS});var fn=u((tO,yc)=>{function RS(e,t){return function(r){return e(t(r))}}yc.exports=RS});var Ec=u((rO,gc)=>{var qS=fn(),MS=qS(Object.keys,Object);gc.exports=MS});var Ac=u((nO,Sc)=>{var US=Vt(),FS=Ec(),jS=Object.prototype,GS=jS.hasOwnProperty;function HS(e){if(!US(e))return FS(e);var t=[];for(var r in Object(e))GS.call(e,r)&&r!="constructor"&&t.push(r);return t}Sc.exports=HS});var Oe=u((iO,bc)=>{var $S=ln(),KS=Ac(),WS=Gt();function VS(e){return WS(e)?$S(e):KS(e)}bc.exports=VS});var Tc=u((oO,xc)=>{var zS=_e(),JS=Oe();function YS(e,t){return e&&zS(t,JS(t),e)}xc.exports=YS});var wc=u((sO,vc)=>{function XS(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}vc.exports=XS});var Cc=u((aO,_c)=>{var QS=pe(),ZS=Vt(),eA=wc(),tA=Object.prototype,rA=tA.hasOwnProperty;function nA(e){if(!QS(e))return eA(e);var t=ZS(e),r=[];for(var n in e)n=="constructor"&&(t||!rA.call(e,n))||r.push(n);return r}_c.exports=nA});var zt=u((uO,Ic)=>{var iA=ln(),oA=Cc(),sA=Gt();function aA(e){return sA(e)?iA(e,!0):oA(e)}Ic.exports=aA});var kc=u((cO,Oc)=>{var uA=_e(),cA=zt();function lA(e,t){return e&&uA(t,cA(t),e)}Oc.exports=lA});var Lc=u((lt,ke)=>{var fA=G(),Bc=typeof lt=="object"&&lt&&!lt.nodeType&&lt,Dc=Bc&&typeof ke=="object"&&ke&&!ke.nodeType&&ke,pA=Dc&&Dc.exports===Bc,Nc=pA?fA.Buffer:void 0,Pc=Nc?Nc.allocUnsafe:void 0;function hA(e,t){if(t)return e.slice();var r=e.length,n=Pc?Pc(r):new e.constructor(r);return e.copy(n),n}ke.exports=hA});var qc=u((lO,Rc)=>{function dA(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}Rc.exports=dA});var Uc=u((fO,Mc)=>{function mA(e,t){for(var r=-1,n=e==null?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}Mc.exports=mA});var pn=u((pO,Fc)=>{function yA(){return[]}Fc.exports=yA});var Jt=u((hO,Gc)=>{var gA=Uc(),EA=pn(),SA=Object.prototype,AA=SA.propertyIsEnumerable,jc=Object.getOwnPropertySymbols,bA=jc?function(e){return e==null?[]:(e=Object(e),gA(jc(e),function(t){return AA.call(e,t)}))}:EA;Gc.exports=bA});var $c=u((dO,Hc)=>{var xA=_e(),TA=Jt();function vA(e,t){return xA(e,TA(e),t)}Hc.exports=vA});var Yt=u((mO,Kc)=>{var wA=fn(),_A=wA(Object.getPrototypeOf,Object);Kc.exports=_A});var hn=u((yO,Wc)=>{var CA=Mt(),IA=Yt(),OA=Jt(),kA=pn(),DA=Object.getOwnPropertySymbols,NA=DA?function(e){for(var t=[];e;)CA(t,OA(e)),e=IA(e);return t}:kA;Wc.exports=NA});var zc=u((gO,Vc)=>{var PA=_e(),BA=hn();function LA(e,t){return PA(e,BA(e),t)}Vc.exports=LA});var dn=u((EO,Jc)=>{var RA=Mt(),qA=H();function MA(e,t,r){var n=t(e);return qA(e)?n:RA(n,r(e))}Jc.exports=MA});var mn=u((SO,Yc)=>{var UA=dn(),FA=Jt(),jA=Oe();function GA(e){return UA(e,jA,FA)}Yc.exports=GA});var yn=u((AO,Xc)=>{var HA=dn(),$A=hn(),KA=zt();function WA(e){return HA(e,KA,$A)}Xc.exports=WA});var Zc=u((bO,Qc)=>{var VA=te(),zA=G(),JA=VA(zA,"DataView");Qc.exports=JA});var tl=u((xO,el)=>{var YA=te(),XA=G(),QA=YA(XA,"Promise");el.exports=QA});var nl=u((TO,rl)=>{var ZA=te(),eb=G(),tb=ZA(eb,"Set");rl.exports=tb});var ol=u((vO,il)=>{var rb=te(),nb=G(),ib=rb(nb,"WeakMap");il.exports=ib});var ft=u((wO,pl)=>{var gn=Zc(),En=Bt(),Sn=tl(),An=nl(),bn=ol(),fl=fe(),De=Qr(),sl="[object Map]",ob="[object Object]",al="[object Promise]",ul="[object Set]",cl="[object WeakMap]",ll="[object DataView]",sb=De(gn),ab=De(En),ub=De(Sn),cb=De(An),lb=De(bn),he=fl;(gn&&he(new gn(new ArrayBuffer(1)))!=ll||En&&he(new En)!=sl||Sn&&he(Sn.resolve())!=al||An&&he(new An)!=ul||bn&&he(new bn)!=cl)&&(he=function(e){var t=fl(e),r=t==ob?e.constructor:void 0,n=r?De(r):"";if(n)switch(n){case sb:return ll;case ab:return sl;case ub:return al;case cb:return ul;case lb:return cl}return t});pl.exports=he});var dl=u((_O,hl)=>{var fb=Object.prototype,pb=fb.hasOwnProperty;function hb(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&pb.call(e,"index")&&(r.index=e.index,r.input=e.input),r}hl.exports=hb});var xn=u((CO,ml)=>{var db=G(),mb=db.Uint8Array;ml.exports=mb});var Xt=u((IO,gl)=>{var yl=xn();function yb(e){var t=new e.constructor(e.byteLength);return new yl(t).set(new yl(e)),t}gl.exports=yb});var Sl=u((OO,El)=>{var gb=Xt();function Eb(e,t){var r=t?gb(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}El.exports=Eb});var bl=u((kO,Al)=>{var Sb=/\w*$/;function Ab(e){var t=new e.constructor(e.source,Sb.exec(e));return t.lastIndex=e.lastIndex,t}Al.exports=Ab});var _l=u((DO,wl)=>{var xl=le(),Tl=xl?xl.prototype:void 0,vl=Tl?Tl.valueOf:void 0;function bb(e){return vl?Object(vl.call(e)):{}}wl.exports=bb});var Il=u((NO,Cl)=>{var xb=Xt();function Tb(e,t){var r=t?xb(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}Cl.exports=Tb});var kl=u((PO,Ol)=>{var vb=Xt(),wb=Sl(),_b=bl(),Cb=_l(),Ib=Il(),Ob="[object Boolean]",kb="[object Date]",Db="[object Map]",Nb="[object Number]",Pb="[object RegExp]",Bb="[object Set]",Lb="[object String]",Rb="[object Symbol]",qb="[object ArrayBuffer]",Mb="[object DataView]",Ub="[object Float32Array]",Fb="[object Float64Array]",jb="[object Int8Array]",Gb="[object Int16Array]",Hb="[object Int32Array]",$b="[object Uint8Array]",Kb="[object Uint8ClampedArray]",Wb="[object Uint16Array]",Vb="[object Uint32Array]";function zb(e,t,r){var n=e.constructor;switch(t){case qb:return vb(e);case Ob:case kb:return new n(+e);case Mb:return wb(e,r);case Ub:case Fb:case jb:case Gb:case Hb:case $b:case Kb:case Wb:case Vb:return Ib(e,r);case Db:return new n;case Nb:case Lb:return new n(e);case Pb:return _b(e);case Bb:return new n;case Rb:return Cb(e)}}Ol.exports=zb});var Pl=u((BO,Nl)=>{var Jb=pe(),Dl=Object.create,Yb=function(){function e(){}return function(t){if(!Jb(t))return{};if(Dl)return Dl(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();Nl.exports=Yb});var Ll=u((LO,Bl)=>{var Xb=Pl(),Qb=Yt(),Zb=Vt();function ex(e){return typeof e.constructor=="function"&&!Zb(e)?Xb(Qb(e)):{}}Bl.exports=ex});var ql=u((RO,Rl)=>{var tx=ft(),rx=W(),nx="[object Map]";function ix(e){return rx(e)&&tx(e)==nx}Rl.exports=ix});var jl=u((qO,Fl)=>{var ox=ql(),sx=st(),Ml=Wt(),Ul=Ml&&Ml.isMap,ax=Ul?sx(Ul):ox;Fl.exports=ax});var Hl=u((MO,Gl)=>{var ux=ft(),cx=W(),lx="[object Set]";function fx(e){return cx(e)&&ux(e)==lx}Gl.exports=fx});var Vl=u((UO,Wl)=>{var px=Hl(),hx=st(),$l=Wt(),Kl=$l&&$l.isSet,dx=Kl?hx(Kl):px;Wl.exports=dx});var Ql=u((FO,Xl)=>{var mx=Ht(),yx=Ju(),gx=sn(),Ex=Tc(),Sx=kc(),Ax=Lc(),bx=qc(),xx=$c(),Tx=zc(),vx=mn(),wx=yn(),_x=ft(),Cx=dl(),Ix=kl(),Ox=Ll(),kx=H(),Dx=Kt(),Nx=jl(),Px=pe(),Bx=Vl(),Lx=Oe(),Rx=zt(),qx=1,Mx=2,Ux=4,zl="[object Arguments]",Fx="[object Array]",jx="[object Boolean]",Gx="[object Date]",Hx="[object Error]",Jl="[object Function]",$x="[object GeneratorFunction]",Kx="[object Map]",Wx="[object Number]",Yl="[object Object]",Vx="[object RegExp]",zx="[object Set]",Jx="[object String]",Yx="[object Symbol]",Xx="[object WeakMap]",Qx="[object ArrayBuffer]",Zx="[object DataView]",eT="[object Float32Array]",tT="[object Float64Array]",rT="[object Int8Array]",nT="[object Int16Array]",iT="[object Int32Array]",oT="[object Uint8Array]",sT="[object Uint8ClampedArray]",aT="[object Uint16Array]",uT="[object Uint32Array]",T={};T[zl]=T[Fx]=T[Qx]=T[Zx]=T[jx]=T[Gx]=T[eT]=T[tT]=T[rT]=T[nT]=T[iT]=T[Kx]=T[Wx]=T[Yl]=T[Vx]=T[zx]=T[Jx]=T[Yx]=T[oT]=T[sT]=T[aT]=T[uT]=!0;T[Hx]=T[Jl]=T[Xx]=!1;function Qt(e,t,r,n,i,o){var s,a=t&qx,c=t&Mx,f=t&Ux;if(r&&(s=i?r(e,n,i,o):r(e)),s!==void 0)return s;if(!Px(e))return e;var d=kx(e);if(d){if(s=Cx(e),!a)return bx(e,s)}else{var h=_x(e),y=h==Jl||h==$x;if(Dx(e))return Ax(e,a);if(h==Yl||h==zl||y&&!i){if(s=c||y?{}:Ox(e),!a)return c?Tx(e,Sx(s,e)):xx(e,Ex(s,e))}else{if(!T[h])return i?e:{};s=Ix(e,h,a)}}o||(o=new mx);var g=o.get(e);if(g)return g;o.set(e,s),Bx(e)?e.forEach(function(A){s.add(Qt(A,t,r,A,e,o))}):Nx(e)&&e.forEach(function(A,S){s.set(S,Qt(A,t,r,S,e,o))});var m=f?c?wx:vx:c?Rx:Lx,E=d?void 0:m(e);return yx(E||e,function(A,S){E&&(S=A,A=e[S]),gx(s,S,Qt(A,t,r,S,e,o))}),s}Xl.exports=Qt});var Zt=u((jO,Zl)=>{var cT=fe(),lT=W(),fT="[object Symbol]";function pT(e){return typeof e=="symbol"||lT(e)&&cT(e)==fT}Zl.exports=pT});var er=u((GO,ef)=>{var hT=H(),dT=Zt(),mT=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yT=/^\w*$/;function gT(e,t){if(hT(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||dT(e)?!0:yT.test(e)||!mT.test(e)||t!=null&&e in Object(t)}ef.exports=gT});var nf=u((HO,rf)=>{var tf=Lt(),ET="Expected a function";function Tn(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(ET);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(Tn.Cache||tf),r}Tn.Cache=tf;rf.exports=Tn});var sf=u(($O,of)=>{var ST=nf(),AT=500;function bT(e){var t=ST(e,function(n){return r.size===AT&&r.clear(),n}),r=t.cache;return t}of.exports=bT});var uf=u((KO,af)=>{var xT=sf(),TT=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vT=/\\(\\)?/g,wT=xT(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(TT,function(r,n,i,o){t.push(i?o.replace(vT,"$1"):n||r)}),t});af.exports=wT});var df=u((WO,hf)=>{var cf=le(),_T=qt(),CT=H(),IT=Zt(),OT=1/0,lf=cf?cf.prototype:void 0,ff=lf?lf.toString:void 0;function pf(e){if(typeof e=="string")return e;if(CT(e))return _T(e,pf)+"";if(IT(e))return ff?ff.call(e):"";var t=e+"";return t=="0"&&1/e==-OT?"-0":t}hf.exports=pf});var yf=u((VO,mf)=>{var kT=df();function DT(e){return e==null?"":kT(e)}mf.exports=DT});var pt=u((zO,gf)=>{var NT=H(),PT=er(),BT=uf(),LT=yf();function RT(e,t){return NT(e)?e:PT(e,t)?[e]:BT(LT(e))}gf.exports=RT});var Sf=u((JO,Ef)=>{function qT(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}Ef.exports=qT});var Ne=u((YO,Af)=>{var MT=Zt(),UT=1/0;function FT(e){if(typeof e=="string"||MT(e))return e;var t=e+"";return t=="0"&&1/e==-UT?"-0":t}Af.exports=FT});var tr=u((XO,bf)=>{var jT=pt(),GT=Ne();function HT(e,t){t=jT(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[GT(t[r++])];return r&&r==n?e:void 0}bf.exports=HT});var Tf=u((QO,xf)=>{function $T(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}xf.exports=$T});var wf=u((ZO,vf)=>{var KT=tr(),WT=Tf();function VT(e,t){return t.length<2?e:KT(e,WT(t,0,-1))}vf.exports=VT});var Cf=u((ek,_f)=>{var zT=pt(),JT=Sf(),YT=wf(),XT=Ne();function QT(e,t){return t=zT(t,e),e=YT(e,t),e==null||delete e[XT(JT(t))]}_f.exports=QT});var kf=u((tk,Of)=>{var ZT=fe(),ev=Yt(),tv=W(),rv="[object Object]",nv=Function.prototype,iv=Object.prototype,If=nv.toString,ov=iv.hasOwnProperty,sv=If.call(Object);function av(e){if(!tv(e)||ZT(e)!=rv)return!1;var t=ev(e);if(t===null)return!0;var r=ov.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&If.call(r)==sv}Of.exports=av});var Nf=u((rk,Df)=>{var uv=kf();function cv(e){return uv(e)?void 0:e}Df.exports=cv});var Bf=u((nk,Pf)=>{var lv=tn();function fv(e){var t=e==null?0:e.length;return t?lv(e,1):[]}Pf.exports=fv});var Rf=u((ik,Lf)=>{var pv=Bf(),hv=rn(),dv=on();function mv(e){return dv(hv(e,void 0,pv),e+"")}Lf.exports=mv});var Mf=u((ok,qf)=>{var yv=qt(),gv=Ql(),Ev=Cf(),Sv=pt(),Av=_e(),bv=Nf(),xv=Rf(),Tv=yn(),vv=1,wv=2,_v=4,Cv=xv(function(e,t){var r={};if(e==null)return r;var n=!1;t=yv(t,function(o){return o=Sv(o,e),n||(n=o.length>1),o}),Av(e,Tv(e),r),n&&(r=gv(r,vv|wv|_v,bv));for(var i=t.length;i--;)Ev(r,t[i]);return r});qf.exports=Cv});var Gf=u((fk,jf)=>{function kv(e){return function(t,r,n){for(var i=-1,o=Object(t),s=n(t),a=s.length;a--;){var c=s[e?a:++i];if(r(o[c],c,o)===!1)break}return t}}jf.exports=kv});var $f=u((pk,Hf)=>{var Dv=Gf(),Nv=Dv();Hf.exports=Nv});var Wf=u((hk,Kf)=>{var Pv=$f(),Bv=Oe();function Lv(e,t){return e&&Pv(e,t,Bv)}Kf.exports=Lv});var zf=u((dk,Vf)=>{function Rv(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}Vf.exports=Rv});var wn=u((mk,Jf)=>{var qv=Zr(),Mv=zf(),Uv=en(),Fv=1,jv=2;function Gv(e,t,r,n,i,o){var s=r&Fv,a=e.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var f=o.get(e),d=o.get(t);if(f&&d)return f==t&&d==e;var h=-1,y=!0,g=r&jv?new qv:void 0;for(o.set(e,t),o.set(t,e);++h<a;){var m=e[h],E=t[h];if(n)var A=s?n(E,m,h,t,e,o):n(m,E,h,e,t,o);if(A!==void 0){if(A)continue;y=!1;break}if(g){if(!Mv(t,function(S,x){if(!Uv(g,x)&&(m===S||i(m,S,r,n,o)))return g.push(x)})){y=!1;break}}else if(!(m===E||i(m,E,r,n,o))){y=!1;break}}return o.delete(e),o.delete(t),y}Jf.exports=Gv});var Xf=u((yk,Yf)=>{function Hv(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}Yf.exports=Hv});var Zf=u((gk,Qf)=>{function $v(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}Qf.exports=$v});var ip=u((Ek,np)=>{var ep=le(),tp=xn(),Kv=Pt(),Wv=wn(),Vv=Xf(),zv=Zf(),Jv=1,Yv=2,Xv="[object Boolean]",Qv="[object Date]",Zv="[object Error]",ew="[object Map]",tw="[object Number]",rw="[object RegExp]",nw="[object Set]",iw="[object String]",ow="[object Symbol]",sw="[object ArrayBuffer]",aw="[object DataView]",rp=ep?ep.prototype:void 0,_n=rp?rp.valueOf:void 0;function uw(e,t,r,n,i,o,s){switch(r){case aw:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case sw:return!(e.byteLength!=t.byteLength||!o(new tp(e),new tp(t)));case Xv:case Qv:case tw:return Kv(+e,+t);case Zv:return e.name==t.name&&e.message==t.message;case rw:case iw:return e==t+"";case ew:var a=Vv;case nw:var c=n&Jv;if(a||(a=zv),e.size!=t.size&&!c)return!1;var f=s.get(e);if(f)return f==t;n|=Yv,s.set(e,t);var d=Wv(a(e),a(t),n,i,o,s);return s.delete(e),d;case ow:if(_n)return _n.call(e)==_n.call(t)}return!1}np.exports=uw});var ap=u((Sk,sp)=>{var op=mn(),cw=1,lw=Object.prototype,fw=lw.hasOwnProperty;function pw(e,t,r,n,i,o){var s=r&cw,a=op(e),c=a.length,f=op(t),d=f.length;if(c!=d&&!s)return!1;for(var h=c;h--;){var y=a[h];if(!(s?y in t:fw.call(t,y)))return!1}var g=o.get(e),m=o.get(t);if(g&&m)return g==t&&m==e;var E=!0;o.set(e,t),o.set(t,e);for(var A=s;++h<c;){y=a[h];var S=e[y],x=t[y];if(n)var O=s?n(x,S,y,t,e,o):n(S,x,y,e,t,o);if(!(O===void 0?S===x||i(S,x,r,n,o):O)){E=!1;break}A||(A=y=="constructor")}if(E&&!A){var N=e.constructor,j=t.constructor;N!=j&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof j=="function"&&j instanceof j)&&(E=!1)}return o.delete(e),o.delete(t),E}sp.exports=pw});var mp=u((Ak,dp)=>{var Cn=Ht(),hw=wn(),dw=ip(),mw=ap(),up=ft(),cp=H(),lp=Kt(),yw=cn(),gw=1,fp="[object Arguments]",pp="[object Array]",rr="[object Object]",Ew=Object.prototype,hp=Ew.hasOwnProperty;function Sw(e,t,r,n,i,o){var s=cp(e),a=cp(t),c=s?pp:up(e),f=a?pp:up(t);c=c==fp?rr:c,f=f==fp?rr:f;var d=c==rr,h=f==rr,y=c==f;if(y&&lp(e)){if(!lp(t))return!1;s=!0,d=!1}if(y&&!d)return o||(o=new Cn),s||yw(e)?hw(e,t,r,n,i,o):dw(e,t,c,r,n,i,o);if(!(r&gw)){var g=d&&hp.call(e,"__wrapped__"),m=h&&hp.call(t,"__wrapped__");if(g||m){var E=g?e.value():e,A=m?t.value():t;return o||(o=new Cn),i(E,A,r,n,o)}}return y?(o||(o=new Cn),mw(e,t,r,n,i,o)):!1}dp.exports=Sw});var In=u((bk,Ep)=>{var Aw=mp(),yp=W();function gp(e,t,r,n,i){return e===t?!0:e==null||t==null||!yp(e)&&!yp(t)?e!==e&&t!==t:Aw(e,t,r,n,gp,i)}Ep.exports=gp});var Ap=u((xk,Sp)=>{var bw=Ht(),xw=In(),Tw=1,vw=2;function ww(e,t,r,n){var i=r.length,o=i,s=!n;if(e==null)return!o;for(e=Object(e);i--;){var a=r[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=r[i];var c=a[0],f=e[c],d=a[1];if(s&&a[2]){if(f===void 0&&!(c in e))return!1}else{var h=new bw;if(n)var y=n(f,d,c,e,t,h);if(!(y===void 0?xw(d,f,Tw|vw,n,h):y))return!1}}return!0}Sp.exports=ww});var On=u((Tk,bp)=>{var _w=pe();function Cw(e){return e===e&&!_w(e)}bp.exports=Cw});var Tp=u((vk,xp)=>{var Iw=On(),Ow=Oe();function kw(e){for(var t=Ow(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Iw(i)]}return t}xp.exports=kw});var kn=u((wk,vp)=>{function Dw(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}vp.exports=Dw});var _p=u((_k,wp)=>{var Nw=Ap(),Pw=Tp(),Bw=kn();function Lw(e){var t=Pw(e);return t.length==1&&t[0][2]?Bw(t[0][0],t[0][1]):function(r){return r===e||Nw(r,e,t)}}wp.exports=Lw});var Ip=u((Ck,Cp)=>{var Rw=tr();function qw(e,t,r){var n=e==null?void 0:Rw(e,t);return n===void 0?r:n}Cp.exports=qw});var kp=u((Ik,Op)=>{function Mw(e,t){return e!=null&&t in Object(e)}Op.exports=Mw});var Np=u((Ok,Dp)=>{var Uw=pt(),Fw=Ut(),jw=H(),Gw=an(),Hw=jt(),$w=Ne();function Kw(e,t,r){t=Uw(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var s=$w(t[n]);if(!(o=e!=null&&r(e,s)))break;e=e[s]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&Hw(i)&&Gw(s,i)&&(jw(e)||Fw(e)))}Dp.exports=Kw});var Bp=u((kk,Pp)=>{var Ww=kp(),Vw=Np();function zw(e,t){return e!=null&&Vw(e,t,Ww)}Pp.exports=zw});var Rp=u((Dk,Lp)=>{var Jw=In(),Yw=Ip(),Xw=Bp(),Qw=er(),Zw=On(),e_=kn(),t_=Ne(),r_=1,n_=2;function i_(e,t){return Qw(e)&&Zw(t)?e_(t_(e),t):function(r){var n=Yw(r,e);return n===void 0&&n===t?Xw(r,e):Jw(t,n,r_|n_)}}Lp.exports=i_});var Mp=u((Nk,qp)=>{function o_(e){return function(t){return t?.[e]}}qp.exports=o_});var Fp=u((Pk,Up)=>{var s_=tr();function a_(e){return function(t){return s_(t,e)}}Up.exports=a_});var Gp=u((Bk,jp)=>{var u_=Mp(),c_=Fp(),l_=er(),f_=Ne();function p_(e){return l_(e)?u_(f_(e)):c_(e)}jp.exports=p_});var $p=u((Lk,Hp)=>{var h_=_p(),d_=Rp(),m_=Ft(),y_=H(),g_=Gp();function E_(e){return typeof e=="function"?e:e==null?m_:typeof e=="object"?y_(e)?d_(e[0],e[1]):h_(e):g_(e)}Hp.exports=E_});var Wp=u((Rk,Kp)=>{var S_=$t(),A_=Wf(),b_=$p();function x_(e,t){var r={};return t=b_(t,3),A_(e,function(n,i,o){S_(r,i,t(n,i,o))}),r}Kp.exports=x_});window.isElectron=window.navigator&&window.navigator.userAgent.indexOf("Electron")!==-1;var Hn=navigator.userAgent.indexOf("Firefox")!==-1;(window.isElectron&&location.pathname==="/_generated_background_page.html"||Hn)&&(chrome.runtime.onConnectExternal={addListener(){}},chrome.runtime.onMessageExternal={addListener(){}},window.isElectron?(chrome.notifications={onClicked:{addListener(){}},create(){},clear(){}},chrome.contextMenus={onClicked:{addListener(){}}}):(chrome.storage.sync=chrome.storage.local,chrome.runtime.onInstalled={addListener:e=>e()}));if(window.isElectron){(!chrome.storage.local||!chrome.storage.local.remove)&&(chrome.storage.local={set(t,r){Object.keys(t).forEach(n=>{localStorage.setItem(n,t[n])}),r&&r()},get(t,r){let n={};Object.keys(t).forEach(i=>{n[i]=localStorage.getItem(i)||t[i]}),r&&r(n)},remove(t,r){Array.isArray(t)?t.forEach(n=>{localStorage.removeItem(n)}):localStorage.removeItem(t),r&&r()}});let e=chrome.runtime.sendMessage;chrome.runtime.sendMessage=function(){return typeof arguments[arguments.length-1]=="function"&&Array.prototype.pop.call(arguments),e(...arguments)}}(Hn||window.isElectron)&&(chrome.storage.sync=chrome.storage.local);var ir=Y(cr());var Vp=Y(cr());var ps=Y(os()),{CLOSED:rI,CONNECTING:nI,OPEN:iI,AUTHENTICATED:oI,PENDING:sI,UNAUTHENTICATED:aI}=ps.default.AGClientSocket;var hs="socket/DISCONNECTED";var Xe="devTools/UPDATE_STATE",Ot="devTools/SET_STATE",ds="devTools/SELECT_INSTANCE",Qe="devTools/REMOVE_INSTANCE",Ae="devTools/LIFTED_ACTION";var ms="devTools/TOGGLE_SYNC",kt="devTools/TOGGLE_PERSIST",Ze="devTools/SET_PERSIST";var zr=Y(Vr());var be=Symbol.for("__serializedType__"),et=Symbol.for("__serializedRef__");function Bm(e,t){if(typeof t=="object"&&t!==null&&"__serializedType__"in t&&typeof t.data=="object"){let r=t.data;return r[be]=t.__serializedType__,"__serializedRef__"in t&&(r[et]=t.__serializedRef__),r}return t}function ce(e,t){if(typeof e!="string")return e;try{return t?zr.default.parse(e,Bm):zr.default.parse(e)}catch{return}}function Dt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=e.stagedActionIds.slice(1,r+1);for(let i=0;i<n.length;i++)if(e.computedStates[i+1].error){r=i,n=e.stagedActionIds.slice(1,r+1);break}else delete e.actionsById[n[i]];e.skippedActionIds=e.skippedActionIds.filter(i=>n.indexOf(i)===-1),e.stagedActionIds=[0,...e.stagedActionIds.slice(r+1)],e.committedState=e.computedStates[r].state,e.computedStates=e.computedStates.slice(r),e.currentStateIndex=e.currentStateIndex>r?e.currentStateIndex-r:0}function Nt(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,s=n-1,a={...e};if(a.currentStateIndex===a.stagedActionIds.length-1&&a.currentStateIndex++,a.stagedActionIds=[...a.stagedActionIds,s],a.actionsById={...a.actionsById},r.type==="PERFORM_ACTION"?a.actionsById[s]=r:a.actionsById[s]={action:r.action||r,timestamp:r.timestamp||Date.now(),stack:r.stack,type:"PERFORM_ACTION"},a.nextActionId=n,a.computedStates=[...a.computedStates,{state:t}],o)Dt(a);else if(i){let c=a.stagedActionIds.length-i;c>0&&Dt(a,c)}return a}var ys={selected:null,current:"default",sync:!1,connections:{},options:{default:{features:{}}},states:{default:{actionsById:{},computedStates:[],currentStateIndex:-1,nextActionId:0,skippedActionIds:[],stagedActionIds:[]}}};function Lm(e,t,r,n){let i=t.payload,o=t.actionsById;o?(i={...i,actionsById:ce(o,n),computedStates:ce(t.computedStates,n)},t.type==="STATE"&&t.committedState&&(i.committedState=i.computedStates[0].state)):i=ce(i,n);let s,a=e[r]||e.default,c=t.action&&ce(t.action,n)||{};switch(t.type){case"INIT":s=Nt(e.default,i,{action:{type:"@@INIT"},timestamp:c.timestamp||Date.now()});break;case"ACTION":{let f=t.isExcess,d=t.nextActionId||a.nextActionId+1,h=t.maxAge;if(Array.isArray(c)){s=a;for(let y=0;y<c.length;y++)s=Nt(s,t.batched?i:i[y],c[y],s.nextActionId+1,h,f)}else s=Nt(a,i,c,d,h,f);break}case"STATE":s=i,s.computedStates.length<=s.currentStateIndex&&(s.currentStateIndex=s.computedStates.length-1);break;case"PARTIAL_STATE":{let f=t.maxAge,d=i.nextActionId,h=i.stagedActionIds,y=i.computedStates,g,m,E;if(d>f){let x=a.stagedActionIds,O=x.indexOf(h[1]),N;if(O>0){m=a.computedStates.slice(O-1),g={...a.actionsById};for(let j=1;j<O;j++)N=x[j],N&&delete g[N];E=y[0].state}else g=a.actionsById,m=a.computedStates,E=a.committedState}else g=a.actionsById,m=a.computedStates,E=a.committedState;y=[...m,...y];let A=y.length,S=i.currentStateIndex;A<=S&&(S=A-1),s={...a,actionsById:{...g,...i.actionsById},computedStates:y,currentStateIndex:S,nextActionId:d,stagedActionIds:h,committedState:E};break}case"LIFTED":s=a;break;default:return e}return t.liftedState&&(s={...s,...t.liftedState}),{...e,[r]:s}}function Rm(e,t){let{action:r}=t;if(r.type==="JUMP_TO_STATE"||r.type==="JUMP_TO_ACTION"){let n=e.selected||e.current,i=e.states[n],o=r.type==="JUMP_TO_STATE"?r.index:i.stagedActionIds.indexOf(r.actionId);return{...e,states:{...e.states,[n]:{...i,currentStateIndex:o}}}}return e}function qm(e,t){let r=e.connections[t];if(!r)return e;let n={...e.connections},i={...e.options},o={...e.states},s=e.selected,a=e.current,c=e.sync;return delete n[t],r.forEach(f=>{if(f===s&&(s=null,c=!1),f===a){let d=Object.keys(n)[0];d?a=n[d][0]:a="default"}delete i[f],delete o[f]}),{selected:s,current:a,sync:c,connections:n,options:i,states:o}}function Mm(e,t,r){let{type:n,action:i,name:o,libConfig:s={}}=e,a,c,f=s.actionCreators||i;return typeof f=="string"&&(f=JSON.parse(f)),Array.isArray(f)&&(c=f),n==="STATE"&&(a="redux"),{name:s.name||o||r,connectionId:t,explicitLib:s.type,lib:a,actionCreators:c,features:s.features?s.features:{lock:a==="redux",export:s.type==="redux"?"custom":!0,import:"custom",persist:!0,pause:!0,reorder:!0,jump:!0,skip:!0,dispatch:!0,sync:!0,test:!0},serialize:s.serialize}}function gs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ys,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xe:{let{request:r}=t;if(!r)return e;let n=t.id||r.id,i=r.instanceId||n,o=e.connections,s=e.options;return typeof e.options[i]>"u"&&(o={...e.connections,[n]:[...o[n]||[],i]},s={...s,[i]:Mm(r,n,i)}),{...e,current:i,connections:o,options:s,states:Lm(e.states,r,i,s[i].serialize)}}case Ot:return{...e,states:{...e.states,[Um(e)]:t.newState}};case kt:return{...e,persisted:!e.persisted};case Ze:return{...e,persisted:t.payload};case ms:return{...e,sync:!e.sync};case ds:return{...e,selected:t.selected,sync:!1};case Qe:return qm(e,t.id);case Ae:{if(t.message==="DISPATCH")return Rm(e,t);if(t.message==="IMPORT"){let r=e.selected||e.current;if(e.options[r].features.import===!0)return{...e,states:{...e.states,[r]:ce(t.state)}}}return e}case hs:return ys;default:return e}}var Um=e=>e.selected||e.current;var Uf=Y(Ru()),Ff=Y(Mf());var vn=Y(Vr());function Iv(e,t){if(typeof t=="object"&&t!==null&&be in t){let r=t[be],n={...t};delete n[be];let i={data:n,__serializedType__:r};return et in t&&(i.__serializedRef__=n[et]),i}return t}function re(e,t){return t?vn.default.stringify(e,Iv,null,!0):vn.default.stringify(e)}function Ov(e){return{...e,actionsById:(0,Ff.default)(e.actionsById,e.skippedActionIds),stagedActionIds:(0,Uf.default)(e.stagedActionIds,e.skippedActionIds),skippedActionIds:[],currentStateIndex:Math.min(e.currentStateIndex,e.stagedActionIds.length-1)}}function Pe(e,t,r,n,i,o){let s=o||e.getState().instances,a=s.states[r],c=s.options[r];if(t!=="DISPATCH")return t==="IMPORT"?c.features.import===!0?re(a.computedStates[a.currentStateIndex].state,!0):i:void 0;if(c.lib!=="redux")switch(n.type){case"TOGGLE_ACTION":return re(a,!0);case"JUMP_TO_STATE":return re(a.computedStates[n.index].state,!0);case"JUMP_TO_ACTION":return re(a.computedStates[a.stagedActionIds.indexOf(n.actionId)].state,!0);case"ROLLBACK":return re(a.computedStates[0].state,!0);case"SWEEP":e.dispatch({type:Ot,newState:Ov(a)});return;default:return}}var T_=(0,Vp.combineReducers)({instances:gs}),zp=T_;var v_=Y(Wp()),de={DO_NOT_FILTER:"DO_NOT_FILTER",DENYLIST_SPECIFIC:"DENYLIST_SPECIFIC",ALLOWLIST_SPECIFIC:"ALLOWLIST_SPECIFIC"};var ne,Dn=[],w_=e=>(t,r)=>{let n={};n[t]=r,chrome.storage.sync.set(n),ne[t]=r,e({options:ne}),Dn.forEach(i=>i(ne))},__=e=>({...e,filter:typeof e.filter=="boolean"?e.filter&&e.whitelist.length>0?de.ALLOWLIST_SPECIFIC:e.filter?de.DENYLIST_SPECIFIC:de.DO_NOT_FILTER:e.filter==="WHITELIST_SPECIFIC"?de.ALLOWLIST_SPECIFIC:e.filter==="BLACKLIST_SPECIFIC"?de.DENYLIST_SPECIFIC:e.filter}),Jp=e=>{ne?e(ne):chrome.storage.sync.get({useEditor:0,editor:"",projectPath:"",maxAge:50,filter:de.DO_NOT_FILTER,whitelist:"",blacklist:"",allowlist:"",denylist:"",shouldCatchErrors:!1,inject:!0,urls:`^https?://localhost|0\\.0\\.0\\.0:\\d+
^https?://.+\\.github\\.io`,showContextMenus:!0},function(t){ne=__(t),e(ne)})},C_=e=>{Dn=Dn.concat(e)};function ht(e){return e&&!ne&&Jp(()=>{}),{save:w_(e),get:Jp,subscribe:C_}}var Nn={},Pn=null;function ie(e){function t(i,o,s){function a(c){if(!Nn[e])c(),Pn=e;else{let f={focused:!0};Pn!==e&&e!=="devtools-panel"&&(f={...f,...s}),chrome.windows.update(Nn[e],f,()=>{Pn=null,chrome.runtime.lastError&&c()})}}a(()=>{let c={type:"popup",...s};i==="open"&&(c.url=chrome.extension.getURL(o+"#"+e.substr(e.indexOf("-")+1)),chrome.windows.create(c,f=>{Nn[e]=f.id,navigator.userAgent.indexOf("Firefox")!==-1&&chrome.windows.update(f.id,{focused:!0,...s})}))})}let r={left:0,top:0,width:380,height:window.screen.availHeight},n="window.html";switch(e){case"devtools-right":r.left=window.screen.availLeft+window.screen.availWidth-r.width;break;case"devtools-bottom":r.height=420,r.top=window.screen.height-r.height,r.width=window.screen.availWidth;break;case"devtools-panel":r.type="panel";break;case"devtools-remote":r={width:850,height:600},n="remote.html";break}t("open",n,r)}function Yp(e,t,r){chrome.storage.local.get(["s:hostname","s:port","s:secure"],n=>{if(!n["s:hostname"]||!n["s:port"])return;let i=`${n["s:secure"]?"https":"http"}://${n["s:hostname"]}:${n["s:port"]}`;fetch(i,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({op:"get",id:e})}).then(o=>o.json()).then(o=>{let{payload:s,preloadedState:a}=o;s&&window.store.dispatch({type:Ae,message:"IMPORT",state:JSON.stringify({payload:s,preloadedState:a}),id:t,instanceId:`${t}/${r}`})}).catch(function(o){console.warn(o)})})}var I_="socket/CONNECTED",O_="socket/DISCONNECTED",I={tab:{},panel:{},monitor:{}},dt={},nr=0,Ln=!1,Rn=(e,t)=>e.tab?e.tab.id:t||e.id;function Be(e,t,r){Object.keys(I.monitor).forEach(n=>{I.monitor[n].postMessage(r||e.type==="ERROR"||e.type===Ze?e:{type:Xe})}),Object.keys(I.panel).forEach(n=>{I.panel[n].postMessage(e)})}function Xp(e){if(e.message==="DISPATCH"){let{message:t,action:r,id:n,instanceId:i,state:o}=e;I.tab[n].postMessage({type:t,action:r,state:Pe(window.store,t,i,r,o),id:i.toString().replace(/^[^\/]+\//,"")})}else if(e.message==="IMPORT"){let{message:t,action:r,id:n,instanceId:i,state:o}=e;I.tab[n].postMessage({type:t,action:r,state:Pe(window.store,t,i,r,o),id:i.toString().replace(/^[^\/]+\//,"")})}else if(e.message==="ACTION"){let{message:t,action:r,id:n,instanceId:i,state:o}=e;I.tab[n].postMessage({type:t,action:r,state:Pe(window.store,t,i,r,o),id:i.toString().replace(/^[^\/]+\//,"")})}else if(e.message==="EXPORT"){let{message:t,action:r,id:n,instanceId:i,state:o}=e;I.tab[n].postMessage({type:t,action:r,state:Pe(window.store,t,i,r,o),id:i.toString().replace(/^[^\/]+\//,"")})}else{let{message:t,action:r,id:n,instanceId:i,state:o}=e;I.tab[n].postMessage({type:t,action:r,state:Pe(window.store,t,i,r,o),id:i.toString().replace(/^[^\/]+\//,"")})}}function Qp(e){let t=I.tab;Object.keys(t).forEach(r=>{t[r].postMessage(e)})}function qn(e,t){if(!t&&Ln===e)return;let r={type:e?"START":"STOP"};t?I.tab[t]&&I.tab[t].postMessage(r):Qp(r),Ln=e}function k_(){let e=window.store.getState().instances,t=e.states[e.current],r=t.computedStates[t.currentStateIndex];return r?r.error:!1}function D_(){let e=window.store.getState();e.instances.persisted&&Object.keys(e.instances.connections).forEach(t=>{I.tab[t]||(window.store.dispatch({type:Qe,id:t}),Be({type:"NA",id:t}))})}function Mn(e,t,r){let n=Rn(t);if(!n)return;if(t.frameId&&(n=`${n}-${t.frameId}`),e.type==="STOP"){Object.keys(window.store.getState().instances.connections).length||window.store.dispatch({type:O_});return}if(e.type==="OPEN_OPTIONS"){chrome.runtime.openOptionsPage();return}if(e.type==="GET_OPTIONS"){window.syncOptions.get(s=>{r({options:s})});return}if(e.type==="GET_REPORT"){Yp(e.payload,n,e.instanceId);return}if(e.type==="OPEN"){let s="devtools-left";["remote","panel","left","right","bottom"].indexOf(e.position)!==-1&&(s="devtools-"+e.position),ie(s);return}if(e.type==="ERROR"){if(e.payload){Be(e,n);return}if(!e.message)return;let s=k_();chrome.notifications.create("app-error",{type:"basic",title:s?"An error occurred in the reducer":"An error occurred in the app",message:s||e.message,iconUrl:"img/logo/48x48.png",isClickable:!!s});return}let i={type:Xe,request:e,id:n},o=`${n}/${e.instanceId}`;if("split"in e){if(e.split==="start"){dt[o]=e;return}if(e.split==="chunk"){dt[o][e.chunk[0]]=(dt[o][e.chunk[0]]||"")+e.chunk[1];return}i.request=dt[o],delete dt[o]}e.instanceId&&(i.request.instanceId=o),window.store.dispatch(i),e.type==="EXPORT"?Be(i,n,!0):Be(i,n)}function Bn(e,t,r){return function n(){let i=I[e][t];r&&i&&i.onMessage.removeListener(r),i&&i.onDisconnect.removeListener(n),delete I[e][t],e==="tab"?window.store.getState().instances.persisted||(window.store.dispatch({type:Qe,id:t}),Be({type:"NA",id:t})):(nr--,nr||qn(!1))}}function Zp(e){let t,r;window.store.dispatch({type:I_,port:e}),e.name==="tab"?(t=Rn(e.sender),e.sender.frameId&&(t=`${t}-${e.sender.frameId}`),I.tab[t]=e,r=n=>{if(n.name==="INIT_INSTANCE"){typeof t=="number"&&(chrome.pageAction.show(t),chrome.pageAction.setIcon({tabId:t,path:"img/logo/38x38.png"})),Ln&&e.postMessage({type:"START"});let i=window.store.getState();if(i.instances.persisted){let o=`${t}/${n.instanceId}`,s=i.instances.states[o];if(!s)return;Xp({message:"IMPORT",id:t,instanceId:o,state:re(s,i.instances.options[o].serialize)})}return}n.name==="RELAY"&&Mn(n.message,e.sender)},e.onMessage.addListener(r),e.onDisconnect.addListener(Bn("tab",t,r))):e.name&&e.name.indexOf("monitor")===0?(t=Rn(e.sender,e.name),I.monitor[t]=e,qn(!0),nr++,e.onDisconnect.addListener(Bn("monitor",t))):(t=e.name||e.sender.frameId,I.panel[t]=e,qn(!0,e.name),nr++,r=n=>{window.store.dispatch(n)},e.onMessage.addListener(r),e.onDisconnect.addListener(Bn("panel",t,r)))}chrome.runtime.onConnect.addListener(Zp);chrome.runtime.onConnectExternal.addListener(Zp);chrome.runtime.onMessage.addListener(Mn);chrome.runtime.onMessageExternal.addListener(Mn);chrome.notifications.onClicked.addListener(e=>{chrome.notifications.clear(e),ie("devtools-right")});window.syncOptions=ht(Qp);function Un(e){return t=>r=>(r.type===Ae?Xp(r):r.type===kt&&(D_(),Be({type:Ze,payload:!e.getState().instances.persisted})),t(r))}function Fn(e){return(0,ir.createStore)(zp,e,(0,ir.applyMiddleware)(Un))}function jn(){let e=[{id:"devtools-left",title:"To left"},{id:"devtools-right",title:"To right"},{id:"devtools-bottom",title:"To bottom"},{id:"devtools-panel",title:"Open in a panel (enable in browser settings)"},{id:"devtools-remote",title:"Open Remote DevTools"}],t={};chrome.commands.getAll(r=>{r.forEach(({name:n,shortcut:i})=>{t[n]=i}),e.forEach(({id:n,title:i})=>{chrome.contextMenus.create({id:n,title:i+(t[n]?" ("+t[n]+")":""),contexts:["all"]})})})}function eh(){chrome.contextMenus.removeAll()}chrome.contextMenus.onClicked.addListener(({menuItemId:e})=>{ie(e)});window.store=Fn();chrome.commands.onCommand.addListener(e=>{ie(e)});chrome.runtime.onInstalled.addListener(()=>{ht().get(e=>{e.showContextMenus&&jn()})});chrome.storage.onChanged.addListener(e=>{e.showContextMenus&&(e.showContextMenus.newValue?jn():eh())});})();
/*! Bundled license information:

shallow-clone/index.js:
  (*!
   * shallow-clone <https://github.com/jonschlinkert/shallow-clone>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

isobject/index.js:
  (*!
   * isobject <https://github.com/jonschlinkert/isobject>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-plain-object/index.js:
  (*!
   * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
*/
